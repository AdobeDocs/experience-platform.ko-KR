---
title: 예약된 쿼리 모니터링
description: 쿼리 서비스 UI를 통해 쿼리를 모니터링하는 방법을 알아봅니다.
exl-id: 4640afdd-b012-4768-8586-32f1b8232879
source-git-commit: c2832821ea6f9f630e480c6412ca07af788efd66
workflow-type: tm+mt
source-wordcount: '2454'
ht-degree: 0%

---

# 예약된 쿼리 모니터링

Adobe Experience Platform은 UI를 통해 모든 쿼리 작업의 상태에 대한 향상된 가시성을 제공합니다. 이제 [!UICONTROL 예약된 쿼리] 탭에서 쿼리 실행에 실패한 경우 상태, 일정 세부 정보 및 오류 메시지/코드를 포함하는 중요한 정보를 찾을 수 있습니다. [!UICONTROL 예약된 쿼리] 탭을 통해 이러한 쿼리의 UI를 통해 해당 상태에 따라 쿼리에 대한 알림을 구독할 수도 있습니다.

## [!UICONTROL 예약된 쿼리]

[!UICONTROL 예약된 쿼리] 탭은 모든 예약된 CTAS 및 ITAS 쿼리에 대한 개요를 제공합니다. 모든 예약된 쿼리와 실패한 쿼리에 대한 오류 코드 및 메시지에 대한 실행 세부 정보를 찾을 수 있습니다.

[!UICONTROL 예약된 쿼리] 탭으로 이동하려면 왼쪽 탐색 막대에서 **[!UICONTROL 쿼리]**&#x200B;를 선택한 다음 **[!UICONTROL 예약된 쿼리]**&#x200B;를 선택합니다

![예약된 쿼리 및 쿼리가 강조 표시된 쿼리 작업 영역의 예약된 쿼리 탭입니다.](../images/ui/monitor-queries/scheduled-queries.png)

아래 표에서는 사용 가능한 각 열에 대해 설명합니다.

>[!NOTE]
>
>경고 구독 아이콘(![경고 구독 아이콘.](/help/images/icons/alert-add.png))은(는) 제목 없는 열의 각 행에 포함되어 있습니다. 자세한 내용은 [경고 구독](#alert-subscription) 섹션을 참조하십시오.

| 열 | 설명 |
|---|---|
| **[!UICONTROL 이름]** | 이름 필드는 템플릿 이름 또는 SQL 쿼리의 처음 몇 문자입니다. UI를 통해 쿼리 편집기로 만든 모든 쿼리의 이름은 처음 만들 때 로 지정됩니다. API를 통해 쿼리를 만든 경우 해당 이름은 쿼리를 만드는 데 사용되는 초기 SQL 코드 조각이 됩니다. 쿼리와 연결된 모든 실행 목록을 보려면 [!UICONTROL 이름] 열에서 항목을 선택하십시오. 자세한 내용은 [쿼리 실행 일정 세부 정보](#query-runs) 섹션을 참조하십시오. |
| **[!UICONTROL 템플릿]** | 쿼리의 템플릿 이름입니다. 템플릿 이름을 선택하여 쿼리 편집기로 이동합니다. 쿼리 템플릿은 편의를 위해 쿼리 편집기에 표시됩니다. 템플릿 이름이 없는 경우 행은 하이픈으로 표시되며 쿼리를 보기 위해 쿼리 편집기로 리디렉션할 수 없습니다. |
| **[!UICONTROL SQL]** | SQL 쿼리의 코드 조각입니다. |
| **[!UICONTROL 실행 빈도]** | 쿼리가 실행되도록 설정된 케이던스입니다. 사용 가능한 값은 `Run once` 및 `Scheduled`입니다. |
| **[!UICONTROL 만든 사람]** | 쿼리를 만든 사용자의 이름입니다. |
| **[!UICONTROL 생성일]** | 쿼리가 생성된 타임스탬프(UTC 형식)입니다. |
| **[!UICONTROL 마지막 실행 타임스탬프]** | 쿼리가 실행된 가장 최근 타임스탬프입니다. 이 열에서는 쿼리가 현재 예약에 따라 실행되었는지 여부를 강조 표시합니다. |
| **[!UICONTROL 마지막 실행 상태]** | 가장 최근 쿼리 실행의 상태입니다. 상태 값은 `Success`, `Failed`, `In progress` 및 `No runs`입니다. |
| **[!UICONTROL 예약 상태]** | 예약된 쿼리의 현재 상태입니다. 6개의 잠재적 값이 있습니다. [!UICONTROL 등록], [!UICONTROL 활성], [!UICONTROL 비활성], [!UICONTROL 삭제됨], 하이픈 및 [!UICONTROL 격리됨].<ul><li>**[!UICONTROL 등록]** 상태는 시스템이 쿼리에 대한 새 일정 만들기를 아직 처리 중임을 나타냅니다. 예약된 쿼리가 등록되는 동안에는 비활성화하거나 삭제할 수 없습니다.</li><li>**[!UICONTROL 활성]** 상태는 예약된 쿼리가 완료 날짜 및 시간을 **아직 지나지 않음**&#x200B;을(를) 나타냅니다.</li><li>**[!UICONTROL 비활성]** 상태는 예약된 쿼리가 완료 날짜 및 시간이 **전달**&#x200B;되었거나 사용자가 비활성 상태로 표시되었음을 나타냅니다.</li><li>**[!UICONTROL 삭제됨]** 상태는 쿼리 일정이 삭제되었음을 나타냅니다.</li><li>하이픈은 예약된 쿼리가 반복되지 않는 일회성 쿼리임을 나타냅니다.</li><li>**[!UICONTROL 격리됨]** 상태는 쿼리가 10회 연속 실행에 실패했음을 나타내며 더 이상 실행되기 전에 사용자의 개입이 필요합니다.</li></ul> |

>[!TIP]
>
>쿼리 편집기로 이동하면 **[!UICONTROL 쿼리]**&#x200B;를 선택하여 [!UICONTROL 템플릿] 탭으로 돌아갈 수 있습니다.

## 예약된 쿼리에 대한 표 설정 사용자 지정 {#customize-table}

필요에 따라 [!UICONTROL 예약된 쿼리] 탭의 열을 조정할 수 있습니다. [!UICONTROL 표 사용자 지정] 설정 대화 상자를 열고 사용 가능한 열을 편집하려면 설정 아이콘(![설정 아이콘)을 선택합니다.](/help/images/icons/column-settings.png))을(를) 클릭합니다.

>[!NOTE]
>
>일정이 만들어진 날짜를 참조하는 [!UICONTROL Created] 열은 기본적으로 숨겨져 있습니다.

![테이블 설정 사용자 지정 아이콘이 강조 표시된 예약된 쿼리 탭입니다.](../images/ui/monitor-queries/customze-table-settings-icon.png)

관련 확인란을 전환하여 테이블 열을 제거하거나 추가합니다. 그런 다음 **[!UICONTROL 적용]**&#x200B;을 선택하여 선택 항목을 확인합니다.

>[!NOTE]
>
>UI를 통해 생성된 모든 쿼리는 작성 프로세스의 일부로 이름이 지정된 템플릿이 됩니다. 템플릿 이름은 템플릿 열에 표시됩니다. API를 통해 쿼리를 만든 경우 템플릿 열이 비어 있습니다.

![테이블 설정 사용자 지정 대화 상자](../images/ui/monitor-queries/customize-table-dialog.png)

## 인라인 작업으로 예약된 쿼리 관리 {#inline-actions}

[!UICONTROL 예약된 쿼리] 보기는 한 위치에서 모든 예약된 쿼리를 관리하기 위한 다양한 인라인 작업을 제공합니다. 인라인 작업은 줄임표가 있는 각 행에 표시됩니다. 관리할 예약된 쿼리의 줄임표를 선택하여 팝업 메뉴에서 사용 가능한 옵션을 확인합니다. 사용 가능한 옵션에는 [[!UICONTROL 일정 비활성화]](#disable) 또는 [!UICONTROL 일정 활성화], [[!UICONTROL 일정 삭제]](#delete), 경고를 쿼리하기 위한 [[!UICONTROL 구독]](#alert-subscription) 및 [격리 활성화 또는 [!UICONTROL 비활성화]](#quarantined-queries)가 있습니다.

![인라인 작업 줄임표 및 팝업 메뉴가 강조 표시된 예약된 쿼리 탭입니다.](../images/ui/monitor-queries/inline-actions.png)

### 예약된 쿼리 비활성화 또는 활성화 {#disable}

예약된 쿼리를 비활성화하려면 관리할 예약된 쿼리의 줄임표를 선택한 다음 팝업 메뉴의 옵션에서 **[!UICONTROL 일정 비활성화]**&#x200B;를 선택합니다. 작업을 확인하는 대화 상자가 나타납니다. 설정을 확인하려면 **[!UICONTROL 사용 안 함]**&#x200B;을 선택하세요.

예약된 쿼리가 비활성화되면 동일한 프로세스를 통해 일정을 활성화할 수 있습니다. 줄임표를 선택한 다음 사용 가능한 옵션에서 **[!UICONTROL 일정 활성화]**&#x200B;를 선택합니다.

>[!NOTE]
>
>쿼리가 격리된 경우 일정을 활성화하기 전에 템플릿의 SQL을 검토해야 합니다. 이렇게 하면 템플릿 쿼리에 문제가 있는 경우 계산 시간 낭비를 방지할 수 있습니다.

### 예약된 쿼리 삭제 {#delete}

예약된 쿼리를 삭제하려면 관리하려는 예약된 쿼리의 줄임표를 선택한 다음 팝업 메뉴의 옵션에서 **[!UICONTROL 일정 삭제]**&#x200B;를 선택합니다. 작업을 확인하는 대화 상자가 나타납니다. 설정을 확인하려면 **[!UICONTROL 삭제]**&#x200B;를 선택하세요.

예약된 쿼리가 삭제되면 예약된 쿼리 목록에서 **제거되지 않습니다**. 타원에서 제공한 인라인 작업은 제거되고 회색으로 표시된 경고 구독 추가 아이콘으로 바뀝니다. 삭제된 일정에 대한 경고는 구독할 수 없습니다. 행은 예약된 쿼리의 일부로 수행된 실행에 대한 정보를 제공하기 위해 UI에 유지됩니다.

![삭제된 예약된 쿼리와 회색으로 표시된 경고 구독 아이콘이 강조 표시된 예약된 쿼리 탭입니다.](../images/ui/monitor-queries/post-delete.png)

해당 쿼리 템플릿에 대한 실행을 예약하려면 해당 행에서 템플릿 이름을 선택하여 쿼리 편집기로 이동한 다음, 설명서에 설명된 대로 [지침에 따라 쿼리에 일정을 추가](./query-schedules.md#create-schedule)합니다.

### 경고 구독 {#alert-subscription}

예약된 쿼리 실행에 대한 경고를 구독하려면 `...`(줄임표) 또는 경고 구독 아이콘(![경고 구독 아이콘)을 선택하십시오.](/help/images/icons/alert-add.png))을(를) 관리할 예약된 쿼리에 사용합니다. 인라인 작업 드롭다운 메뉴가 나타납니다. 그런 다음 사용 가능한 옵션에서 **[!UICONTROL 구독]**&#x200B;을 선택합니다.

![줄임표, 경고 구독 아이콘 및 인라인 작업 드롭다운 메뉴가 강조 표시된 예약된 쿼리 작업 영역입니다.](../images/ui/monitor-queries/subscribe.png)

[!UICONTROL 경고] 대화 상자가 열립니다. [!UICONTROL 알림] 대화 상자는 UI 알림과 전자 메일 알림을 모두 구독합니다. 사용 가능한 경고 구독 옵션에는 `start`, `success`, `failure`, `quarantine` 및 `delay`이(가) 있습니다. 해당 확인란을 선택하고 **[!UICONTROL 저장]**&#x200B;을 선택하여 구독하세요.

![경고 구독 대화 상자](../images/ui/monitor-queries/alert-subscription-dialog.png)

아래 표에서는 지원되는 쿼리 경고 유형에 대해 설명합니다.

| 경고 유형 | 설명 |
|---|---|
| `start` | 이 경고는 예약된 쿼리 실행이 시작되거나 처리를 시작할 때 알려줍니다. |
| `success` | 이 경고는 예약된 쿼리 실행이 성공적으로 완료되면 사용자에게 알려 주며 이는 쿼리가 오류 없이 실행되었음을 나타냅니다. |
| `failed` | 이 경고는 예약된 쿼리 실행에 오류가 발생하거나 성공적으로 실행되지 않을 때 트리거됩니다. 문제를 신속하게 식별하고 해결하는 데 도움이 됩니다. |
| `quarantine` | 이 경고는 예약된 쿼리 실행이 격리된 상태로 전환되면 활성화됩니다. 쿼리가 [격리 기능](#quarantined-queries)에 등록되면 10번의 연속 실행에 실패한 예약된 쿼리는 자동으로 [!UICONTROL 격리됨] 상태가 됩니다. 그런 다음 추가 실행이 수행되기 전에 사용자의 개입이 필요합니다. |
| `delay` | 이 경고는 지정된 임계값을 초과하는 쿼리 실행 결과에 [지연이 있을 경우](#query-run-delay)을(를) 알려 줍니다. 완료하거나 실패하지 않고 해당 기간 동안 쿼리가 실행될 때 경고를 트리거하는 사용자 지정 시간을 설정할 수 있습니다. |

>[!NOTE]
>
>쿼리 실행이 격리된다는 알림을 받으려면 먼저 예약된 쿼리 실행을 [격리 기능](#quarantined-queries)에 등록해야 합니다.

자세한 내용은 [경고 구독 API 설명서](../api/alert-subscriptions.md)를 참조하세요.

### 쿼리 세부 정보 보기 {#query-details}

정보 아이콘(![정보 아이콘)을 선택합니다.](/help/images/icons/info.png))을 클릭하여 쿼리에 대한 세부 정보 패널을 확인합니다. 세부 정보 패널에는 예약된 쿼리 테이블에 포함된 사실 외에 쿼리의 모든 관련 정보가 포함됩니다. 추가 정보에는 쿼리 ID, 마지막으로 수정한 날짜, 쿼리의 SQL, 일정 ID 및 현재 설정된 일정이 포함됩니다.

![정보 아이콘과 세부 정보 패널이 강조 표시된 예약된 쿼리 탭입니다.](../images/ui/monitor-queries/details-panel.png)

## 격리된 쿼리 {#quarantined-queries}

>[!NOTE]
>
>&#39;한 번 실행&#39; 애드혹 쿼리에는 격리 경고를 사용할 수 없습니다. 격리 경고는 예약된 일괄 처리(CTAS 및 ITAS) 쿼리에만 적용할 수 있습니다.

격리 기능에 등록되면 10번의 연속 실행에 실패한 모든 예약된 쿼리는 자동으로 [!UICONTROL 격리됨] 상태로 전환됩니다. 이 상태의 쿼리는 비활성화되고 예약된 케이던스로 실행되지 않습니다. 그런 다음 더 이상의 실행이 수행되기 전에 사용자의 개입이 필요합니다. 이렇게 하면 추가 실행이 발생하기 전에 SQL 문제를 검토하고 수정해야 하므로 시스템 리소스를 보호합니다.

격리 기능에 대해 예약된 쿼리를 활성화하려면 표시되는 드롭다운 메뉴에서 줄임표(`...`)와 [!UICONTROL 격리 활성화]를 차례로 선택합니다.

![줄임표가 있는 예약된 쿼리 탭과 인라인 작업 드롭다운 메뉴에서 격리 사용 이 강조 표시되어 있습니다.](../images/ui/monitor-queries/inline-enable.png)

일정 생성 프로세스 중에 쿼리를 격리 기능에 등록할 수도 있습니다. 자세한 내용은 [쿼리 일정 설명서](./query-schedules.md#quarantine)를 참조하세요.

## 쿼리 실행 지연 {#query-run-delay}

쿼리 지연에 대한 경고를 설정하여 컴퓨팅 시간을 제어할 수 있습니다. 특정 기간 후에도 쿼리 상태가 변경되지 않은 경우 쿼리 성능을 모니터링하고 알림을 받을 수 있습니다. 쿼리가 완료되지 않고 특정 기간 후에도 계속 처리되는 경우 알림을 받으려면 &#39;[!UICONTROL 쿼리 실행 지연]&#39; 경고를 사용하십시오.

예약된 쿼리 실행에 대해 [경고를 구독](#alert-subscription)할 때 사용 가능한 경고 중 하나는 [!UICONTROL 쿼리 실행 지연]입니다. 이 경고를 사용하려면 실행하는 데 소요된 시간에 대한 임계값을 설정해야 하며, 이 시점에서 처리 지연에 대한 알림을 받게 됩니다.

알림을 트리거하는 임계값 기간을 선택하려면 텍스트 입력 필드에 숫자를 입력하거나 위쪽 및 아래쪽 화살표를 사용하여 1분 단위로 증가시킵니다. 임계값이 분 단위로 설정되므로 쿼리 실행 지연을 관찰하는 최대 기간은 1440분(24시간)입니다. 실행 지연의 기본 시간은 150분입니다.

>[!NOTE]
>
>쿼리 실행에는 하나의 실행 지연 시간만 있을 수 있습니다. 지연 임계값을 변경하면 경고를 구독한 사용자 및 전체 조직에 대해 변경됩니다.

![쿼리 실행 지연 입력 필드가 강조 표시된 예약된 쿼리 탭의 경고 대화 상자.](../images/ui/monitor-queries/query-run-delay-input.png)

[경고 구독[!UICONTROL 쿼리 실행 지연]을(를) 구독](#alert-subscription)하는 방법에 대해 알아보려면 경고 구독 섹션을 참조하세요.

## 쿼리 필터링 {#filter}

실행 빈도에 따라 쿼리를 필터링할 수 있습니다. [!UICONTROL 예약된 쿼리] 탭에서 필터 아이콘(![필터 아이콘](/help/images/icons/filter.png))을 선택하여 필터 사이드바를 엽니다.

![필터 아이콘이 강조 표시된 예약된 쿼리 탭입니다.](../images/ui/monitor-queries/filter-queries.png)

실행 빈도에 따라 쿼리 목록을 필터링하려면 **[!UICONTROL 예약됨]** 또는 **[!UICONTROL 한 번 실행]** 필터 확인란을 선택하십시오.

>[!NOTE]
>
>실행되었지만 예약되지 않은 모든 쿼리는 [!UICONTROL 한 번 실행]이 됩니다.

![필터 사이드바가 강조 표시된 예약된 쿼리 탭입니다.](../images/ui/monitor-queries/filter-sidebar.png)

필터 조건을 활성화했으면 **[!UICONTROL 필터 숨기기]**&#x200B;를 선택하여 필터 패널을 닫습니다.

## 쿼리 실행 일정 세부 정보 {#query-runs}

예약 세부 정보 페이지를 열려면 [!UICONTROL 예약된 쿼리] 탭에서 쿼리 이름을 선택합니다. 이 보기는 예약된 쿼리의 일부로 실행된 모든 실행의 목록을 제공합니다. 제공되는 정보에는 시작 및 종료 시간, 상태 및 사용된 데이터 세트가 포함됩니다.

![일정 세부 정보 페이지입니다.](../images/ui/monitor-queries/schedule-details.png)

이 정보는 5열 표로 제공됩니다. 각 행은 쿼리 실행을 나타냅니다.

| 열 이름 | 설명 |
|---|---|
| **[!UICONTROL 쿼리 실행 ID]** | 일별 실행에 대한 쿼리 실행 ID입니다. **[!UICONTROL 쿼리 실행 ID]**&#x200B;를 선택하여 [!UICONTROL 쿼리 실행 개요](으)로 이동합니다. |
| **[!UICONTROL 쿼리 실행 시작]** | 쿼리가 실행된 타임스탬프. 타임스탬프는 UTC 형식입니다. |
| **[!UICONTROL 쿼리 실행 완료]** | 쿼리가 완료된 타임스탬프. 타임스탬프는 UTC 형식입니다. |
| **[!UICONTROL 상태]** | 가장 최근 쿼리 실행의 상태입니다. 상태 값은 `Success`, `Failed`, `In progress` 또는 `Quarantined`입니다. |
| **[!UICONTROL 데이터 집합]** | 실행과 관련된 데이터 세트입니다. |

예약되는 쿼리에 대한 세부 정보는 [!UICONTROL 속성] 패널에서 볼 수 있습니다. 이 패널에는 초기 쿼리 ID, 클라이언트 유형, 템플릿 이름, 쿼리 SQL 및 일정의 케이던스가 포함됩니다.

![속성 패널이 강조 표시된 일정 세부 정보 페이지입니다.](../images/ui/monitor-queries/properties-panel.png)

쿼리 실행 ID를 선택하여 실행 세부 정보 페이지로 이동하고 쿼리 정보를 확인합니다.

![실행 ID가 강조 표시된 일정 세부 정보 화면입니다.](../images/ui/monitor-queries/navigate-to-run-details.png)

## 쿼리 실행 개요 {#query-run-overview}

[!UICONTROL 쿼리 실행 개요]는 이 예약된 쿼리의 개별 실행에 대한 정보와 실행 상태에 대한 자세한 분류를 제공합니다. 이 페이지에는 또한 클라이언트 정보와 쿼리 실패의 원인이 될 수 있는 모든 오류에 대한 세부 정보가 포함되어 있습니다.

![개요 섹션이 강조 표시된 실행 세부 정보 화면입니다.](../images/ui/monitor-queries/query-run-details.png)

쿼리 상태 섹션은 쿼리가 실패한 경우 오류 코드와 오류 메시지를 제공합니다.

![오류 섹션이 강조 표시된 실행 세부 정보 화면입니다.](../images/ui/monitor-queries/failed-query.png)

이 보기에서 쿼리 SQL을 클립보드에 복사할 수 있습니다. 쿼리를 복사하려면 SQL 코드 조각의 오른쪽 상단에서 복사 아이콘을 선택합니다. 코드가 복사되었음을 확인하는 팝업 메시지가 표시됩니다.

![SQL 복사 아이콘이 강조 표시된 실행 세부 정보 화면입니다.](../images/ui/monitor-queries/copy-sql.png)

### 익명 블록이 있는 쿼리에 대한 세부 정보 실행 {#anonymous-block-queries}

익명 블록을 사용하여 SQL 문을 구성하는 쿼리는 개별 하위 쿼리로 구분됩니다. 하위 쿼리로 구분하면 각 쿼리 블록에 대한 실행 세부 사항을 개별적으로 검사할 수 있습니다.

>[!NOTE]
>
>DROP 명령을 사용하는 익명 블록의 실행 세부 정보는 **not**&#x200B;이(가) 별도의 하위 쿼리로 보고됩니다. 익명 블록 하위 쿼리로 사용되는 CTAS 쿼리, ITAS 쿼리 및 COPY 문에 대해 별도의 실행 세부 정보를 사용할 수 있습니다. DROP 명령에 대한 실행 세부 정보는 현재 지원되지 않습니다.

익명 블록은 쿼리 앞에 `$$` 접두사를 사용하여 표시됩니다. 쿼리 서비스의 익명 블록에 대한 자세한 내용은 [익명 블록 문서](../key-concepts/anonymous-block.md)를 참조하세요.

익명 블록 하위 쿼리는 실행 상태 왼쪽에 탭이 있습니다. 실행 세부 정보를 표시하려면 탭을 선택합니다.

![익명 블록 쿼리를 표시하는 쿼리 실행 개요입니다. 여러 쿼리 탭이 강조 표시됩니다.](../images/ui/monitor-queries/anonymous-block-overview.png)

익명 블록 쿼리가 실패할 경우 이 UI를 통해 해당 특정 블록에 대한 오류 코드를 찾을 수 있습니다.

![단일 블록에 대한 오류 코드가 강조 표시된 익명 블록 쿼리를 표시하는 쿼리 실행 개요입니다.](../images/ui/monitor-queries/anonymous-block-failed-query.png)

예약 세부 정보 화면으로 돌아가려면 **[!UICONTROL 쿼리]**&#x200B;를 선택하고 [!UICONTROL 예약된 쿼리] 탭으로 돌아가려면 **[!UICONTROL 예약된 쿼리]**&#x200B;를 선택합니다.

![쿼리가 강조 표시된 실행 세부 정보 화면입니다.](../images/ui/monitor-queries/return-navigation.png)
