---
keywords: Experience Platform;쿼리;쿼리 서비스;문제 해결;보호 기능;지침;제한;
title: 쿼리 서비스에 대한 보호 기능
description: 이 문서에서는 쿼리 사용을 최적화하는 데 도움이 되는 쿼리 서비스 데이터의 사용 제한에 대한 정보를 제공합니다.
exl-id: 1ad5dcf4-d048-49ff-97e3-07040392b65b
source-git-commit: 8e5df8b3e38197520c6e15f7c6639c62527c086e
workflow-type: tm+mt
source-wordcount: '764'
ht-degree: 3%

---

# 쿼리 서비스에 대한 보호 기능

가드레일은 데이터 및 시스템 사용, 성능 최적화, Adobe Experience Platform에서 오류 또는 예기치 않은 결과를 방지하기 위한 지침을 제공하는 임계값입니다.

이 문서에서는 라이선스 권한과 관련하여 데이터를 쿼리할 때 시스템 성능을 최적화하는 데 도움이 되는 쿼리 서비스 데이터에 대한 기본 사용 제한을 제공합니다.

## 전제 조건

이 문서를 계속 진행하기 전에 아래에 설명된 두 가지 주요 Query Service 기능을 잘 이해할 수 있어야 합니다.

* **애드혹 쿼리**: 실행 `SELECT` 쿼리의 결과를 찾는 데이터 탐색, 실험 및 유효성 검사 **저장되지 않음** 데이터 레이크.

* **일괄 처리 쿼리**: 실행 `INSERT TABLE AS SELECT` 및 `CREATE TABLE AS SELECT` 데이터를 정리, 모양, 조작 및 보강하기 위한 쿼리 이러한 쿼리의 결과 **저장됨** 데이터 레이크. 이 기능의 소비를 측정하기 위한 지표는 계산 시간입니다.

아래 그림은 Query Service 기능을 현재 패키징하고 라이센스를 부여하는 방법을 요약합니다.

![라이센스와 관련된 Query Service 기능의 배포 및 패키징을 설명하는 다이어그램입니다.](./images/guardrails/query-capabilities.png)

## 제한 유형

이 문서에는 두 가지 유형의 기본 제한이 있습니다.

* **소프트 제한**: 소프트 한도를 넘을 수 있지만 시스템 성능에 권장되는 지침을 제공합니다.

* **하드 제한**: 하드 제한은 절대 최대값을 제공합니다.

>[!NOTE]
>
>이 문서에 설명된 기본 제한은 지속적으로 개선되고 있습니다. 업데이트를 정기적으로 확인하십시오.

## 기본 엔티티 성능 보호 기능

아래 표는 특정 쿼리 패턴을 사용할 때 쿼리 실행을 위한 권장 보안 제한 및 설명을 제공합니다.

**애드혹 쿼리**

| **가드레일** | **제한** | **제한 유형** | **설명** |
|---|---|---|---|
| 최대 실행 시간 | 10분 | 하드 | 임시 SQL 쿼리에 대한 최대 출력 시간을 정의합니다. 결과를 반환하기 위해 시간 제한을 초과하는 경우 오류 코드가 53400. |
| 쿼리 동시성 | <ul><li>애플리케이션 제품 설명에 지정된 대로</li><li>+1(모든 추가 애드혹 쿼리 사용자 추가 기능 SKU 팩 구입)</li></ul> | 하드 | 특정 조직에 대해 동시에 실행할 수 있는 쿼리의 수를 정의합니다. 동시성 제한을 초과하는 경우 쿼리는 큐에 추가됩니다. |
| 클라이언트 커넥터 및 결과 출력 제한 | 클라이언트 커넥터<ul><li>쿼리 UI(100개 행)</li><li>타사 클라이언트(50,000)</li><li>[!DNL PostgresSQL] 클라이언트(50,000)</li></ul> | 하드 | 쿼리 결과는 다음 방법을 통해 수신할 수 있습니다.<ul><li>쿼리 서비스 UI</li><li>타사 클라이언트</li><li>[!DNL PostgresSQL] 클라이언트</li></ul>참고: 출력 수에 제한을 추가하면 결과가 더 빨리 반환될 수 있습니다. 예, `LIMIT 5`, `LIMIT 10`등 |
| 를 통해 반환된 결과 | 클라이언트 UI | 해당 없음 | 사용자가 결과를 사용할 수 있도록 하는 방법을 정의합니다. |

{style=&quot;table-layout:auto&quot;}

**일괄 처리 쿼리**

| **가드레일** | **제한** | **제한 유형** | **설명** |
|---|---|---|---|
| 최대 실행 시간 | 24시간 | 하드 | 일괄 처리 SQL 쿼리에 대한 최대 실행 시간을 정의합니다.<br>쿼리의 처리 시간은 처리할 데이터의 양과 쿼리 복잡성에 따라 달라집니다. |
| 사용자 동시 실행 | 사용자 제한 없음 | 해당 없음 | 예약된 배치 쿼리는 비동기 작업이므로 사용자 제한이 없습니다. |
| 일괄 데이터 처리에 대한 계산 시간 | 고객의 Adobe Experience Platform Intelligence Query Custom SKU 판매 주문에 지정된 대로 | 소프트 | 고객이 데이터 레이크에 데이터를 다시 스캔, 처리 및 쓰기 위해 배치 쿼리를 실행할 수 있는 연간 범위 계산 시간을 정의합니다. |
| 쿼리 동시성 | 지원됨 | 해당 없음 | 예약된 배치 쿼리는 비동기 작업이므로 동시 쿼리가 지원됩니다. |
| 클라이언트 커넥터 및 결과 출력 제한 | 클라이언트 커넥터<ul><li>쿼리 UI(행에 대한 상한 제한 없음)</li><li>타사 클라이언트(행에 대한 상한 제한 없음)</li><li>[!DNL PostgresSQL] 클라이언트(행에 대한 상한값 없음)</li><li>REST API(행에 대한 상한값 없음)</li></ul> | 하드 | 쿼리 결과는 다음 방법을 사용하여 확인할 수 있습니다.<ul><li>파생 데이터 세트로 저장 가능</li><li>기존 파생된 데이터 세트에 삽입할 수 있습니다</li></ul>참고: 쿼리 결과에서 레코드 수 번호에는 제한이 없습니다. |
| 를 통해 반환된 결과 | 데이터 세트 | 해당 없음 | 사용자가 결과를 사용할 수 있도록 하는 방법을 정의합니다. |

{style=&quot;table-layout:auto&quot;}

Real-time Customer Data Platform 인사이트 대시보드에 대한 각 쿼리에 효율적으로 실행할 수 있는 리소스가 충분하도록, API는 각 쿼리에 동시성 슬롯을 할당하여 리소스 사용을 추적합니다. 시스템은 최대 4개의 동시 쿼리를 처리할 수 있으므로 지정된 시간에 4개의 동시 쿼리 슬롯을 사용할 수 있습니다. 쿼리는 동시성 슬롯을 기반으로 큐에 넣은 다음 충분한 동시성 슬롯을 사용할 수 있을 때까지 대기열에서 대기합니다.

## 다음 단계

이 문서를 읽은 후에는 사용 가능한 쿼리 패턴으로 쿼리 실행을 위한 기본 제한을 더 잘 이해할 수 있어야 합니다.

Query Service에 대한 자세한 내용은 다음 설명서를 참조하십시오.

* [쿼리 서비스 API](./api/getting-started.md)
* [쿼리 서비스 UI](./ui/overview.md)
