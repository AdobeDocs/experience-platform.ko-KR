---
title: 프로필 내보내기 동작
description: Experience Platform 대상에서 지원되는 다양한 통합 패턴에 따라 프로필 내보내기 동작이 어떻게 다른지 알아봅니다.
source-git-commit: 07b92bc06f28bc37673ae71a45ff0e76de9bce9b
workflow-type: tm+mt
source-wordcount: '2926'
ht-degree: 0%

---

# 다양한 대상 유형에 대한 프로필 내보내기 동작

아래 다이어그램에 표시된 대로 Experience Platform에는 몇 가지 대상 유형이 있습니다. 이러한 대상에는 아래 섹션에 설명된 대로 대상 내보내기를 트리거하는 항목 및 내보내기에 포함된 항목에 대한 내보내기 패턴이 약간 다릅니다.

>[!IMPORTANT]
>
>이 설명서 페이지에서는 다이어그램 맨 아래에 강조 표시된 연결에 대한 프로필 내보내기 동작만 설명합니다.

![대상 다이어그램 유형](/help/destinations/assets/how-destinations-work/types-of-destinations-v4.png)

## 마이크로일괄 처리 및 집계 정책

대상 유형별로 특정 정보로 이동하기 전에 Microsoft Batch 및 Aggregation 정책의 개념을 이해하는 것이 중요합니다 *스트리밍 대상*.

Experience Platform 대상은 데이터를 HTTPS 호출로 API 기반 통합으로 내보냅니다. 대상 서비스가 일괄 수집, 스트리밍 수집, 배치 세그멘테이션, 스트리밍 세그멘테이션 또는 ID 그래프 변경 결과로 프로필이 업데이트되었다는 다른 업스트림 서비스로부터 알림을 받으면, 데이터를 내보내고 스트리밍 대상으로 전송됩니다.

대상 API 종단점으로 발송되기 전에 프로필이 HTTPS 메시지로 집계되는 프로세스를 호출합니다 *마이크로바칭*.

다음 [Facebook 대상](/help/destinations/catalog/social/facebook.md) 사용 *[구성 가능한 합계](/help/destinations/destination-sdk/destination-configuration.md#configurable-aggregation)* 예제 의 정책 - 데이터가 집계된 방식으로 전송됩니다. 여기서 대상 서비스는 프로필 서비스 업스트림에서 들어오는 모든 데이터를 가져와 다음 중 하나를 수행하여 Facebook에 발송합니다.

* 레코드 수(최대 10.000) 또는
* 시간 창 간격(30분)

위의 임계값이 처음 충족되는 시점부터 Facebook으로 내보내기를 트리거합니다. 그래서, [!DNL Facebook Custom Audiences] 대시보드에는 10.000개 레코드 증가에서 Experience Platform에서 들어오는 대상이 표시될 수 있습니다. 데이터가 30분 내보내기 간격보다 빨리 처리 및 집계되고 더 빨리 전송되므로 모든 레코드가 처리될 때까지 10~15분마다 10.000개의 레코드가 표시될 수 있습니다. 10.000 배치를 구성하는 데 레코드가 충분하지 않은 경우 시간 창 임계값이 충족될 때와 같이 현재 레코드 수가 전송되므로 Facebook으로 전송되는 작은 배치도 볼 수 있습니다.

다른 예로, [HTTP API 대상](/help/destinations/catalog/streaming/http-destination.md): *[최상의 작업 집계](/help/destinations/destination-sdk/destination-configuration.md#best-effort-aggregation)* 정책, `maxUsersPerRequest: 10`. 즉, 최대 10개의 프로필을 집계하여 HTTP 호출이 이 대상으로 실행되지만 Experience Platform은 대상 서비스가 업스트림 서비스에서 업데이트된 재평가 정보를 받는 즉시 프로필을 대상으로 디스패치하려고 합니다.

집계 정책은 구성할 수 있으며 대상 개발자는 다운스트림의 API 끝점의 비율 제한을 가장 잘 충족하도록 집계 정책을 구성하는 방법을 결정할 수 있습니다. 자세한 내용 [집계 정책](/help/destinations/destination-sdk/destination-configuration.md#aggregation) Destination SDK 설명서에서 을 참조하십시오.

## 스트리밍 프로필 내보내기(엔터프라이즈) 대상 {#streaming-profile-destinations}

>[!IMPORTANT]
>
> 엔터프라이즈 대상은 다음 작업에만 사용할 수 있습니다 [Adobe Real-time Customer Data Platform Ultimate](https://helpx.adobe.com/legal/product-descriptions/real-time-customer-data-platform.html) 고객.

다음 [엔터프라이즈 대상](/help/destinations/destination-types.md#streaming-profile-export) Experience Platform은 Amazon Kinesis, Azure 이벤트 허브 및 HTTP API입니다.

Experience Platform은 세그먼트 자격 또는 기타 중요한 이벤트 후에 프로필에 대한 관련 업데이트가 발생한 경우에만 데이터를 API 종단점으로 내보내도록 프로필 내보내기 동작을 엔터프라이즈 대상으로 최적화합니다. 프로필은 다음과 같은 상황에서 대상에 내보내집니다.

* 프로필 업데이트는 [세그먼트 멤버십](/help/xdm/field-groups/profile/segmentation.md) 대상에 매핑된 세그먼트 중 하나 이상 필요합니다. 예를 들어 프로필이 대상에 매핑된 세그먼트 중 하나에 적격이거나 대상에 매핑된 세그먼트 중 하나를 끝냈습니다.
* 프로필 업데이트는 [id 맵](/help/xdm/field-groups/profile/identitymap.md). 예를 들어 대상에 매핑된 세그먼트 중 하나에 대해 이미 자격이 있는 프로필이 ID 맵 속성에 새 ID를 추가했습니다.
* 프로필 업데이트는 대상에 매핑된 특성 중 하나 이상에 대한 특성 변경에 의해 결정됩니다. 예를 들어 매핑 단계에서 대상에 매핑된 속성 중 하나가 프로필에 추가됩니다.

위에 설명된 모든 경우 관련 업데이트가 발생한 프로필만 대상으로 내보내집니다. 예를 들어 대상 플로우에 매핑된 세그먼트에 100개의 멤버가 있고 5개의 새 프로필이 세그먼트에 대한 자격이 있는 경우 대상에 내보내기는 증분 결과이며 5개의 새 프로필만 포함합니다.

변경 사항이 있는 위치에 상관없이 매핑된 모든 속성이 프로필에 대해 내보내집니다. 따라서 위의 예에서 이러한 5개의 새 프로필에 대해 매핑된 속성은 속성 자체가 변경되지 않았더라도 내보내집니다.

### 데이터 내보내기와 내보내기에 포함된 내용을 결정하는 것은 무엇입니까?

주어진 프로필에 대해 내보낸 데이터에 대해서는 의 두 가지 개념을 이해하는 것이 중요합니다 *엔터프라이즈 대상으로 데이터 내보내기를 결정하는 것은 무엇입니까?* 및 *내보내기에 포함된 데이터*.

| 대상 내보내기를 결정하는 것은 무엇입니까? | 대상 내보내기에 포함된 항목 |
|---------|----------|
| <ul><li>매핑된 속성 및 세그먼트는 대상 내보내기의 단서로 사용됩니다. 즉, 매핑된 세그먼트가 상태(null에서 실현됨 또는 실현됨/존재에서 종료로)를 변경하거나 매핑된 속성을 업데이트하면 대상 내보내기가 해제됩니다.</li><li>현재 ID를 엔터프라이즈 대상에 매핑할 수 없으므로 주어진 프로필의 ID를 변경하면 대상 내보내기도 결정됩니다.</li><li>속성 변경은 속성이 동일한 값이든 간에 속성에 대한 업데이트로 정의됩니다. 즉, 값 자체가 변경되지 않았더라도 속성에 대한 덮어쓰기는 변경 사항으로 간주됩니다.</li></ul> | <ul><li>다음 `segmentMembership` 개체에는 활성화 데이터 플로우에 매핑된 세그먼트가 포함되어 있습니다. 이 세그먼트는 자격 또는 세그먼트 종료 이벤트 후 프로필 상태가 변경되었습니다. 자격이 있는 프로파일이 동일한 세그먼트에 속하는 경우 매핑되지 않은 다른 세그먼트는 대상 내보내기의 일부일 수 있습니다 [병합 정책](/help/profile/merge-policies/overview.md) 를 활성화 데이터 플로우에 매핑된 세그먼트로 사용합니다. </li><li>의 모든 ID `identityMap` 개체도 포함됩니다(Experience Platform은 현재 엔터프라이즈 대상의 id 매핑을 지원하지 않습니다.).</li><li>매핑된 속성만 대상 내보내기에 포함됩니다.</li></ul> |

{style=&quot;table-layout:fixed&quot;}

>[!IMPORTANT]
>
>엔터프라이즈 대상 스트림은 프로필을 대상으로 활성화할 때 데이터를 채웁니다. 즉, 대상에 활성화 워크플로우를 구성한 후 첫 번째 데이터 내보내기에는 세그먼트가 대상에 매핑되기 전에 활성화된 세그먼트에 대해 자격이 있는 프로필이 포함됩니다.

>[!BEGINSHADEBOX]

예를 들어 이 데이터 흐름을 데이터 플로우에서 세 개의 세그먼트를 선택하고 네 개의 속성이 대상에 매핑되는 HTTP 대상으로 간주합니다.

![엔터프라이즈 대상 데이터 흐름](/help/destinations/assets/catalog/http/profile-export-example-dataflow.png)

대상에 대한 프로필 내보내기는 하나 또는 둘 중 하나에 대해 자격이 있는 프로필로 결정할 수 있습니다 *3개의 매핑된 세그먼트*. 그러나 데이터 내보내기에서 `segmentMembership` 객체, 해당 특정 프로필이 해당 세그먼트의 구성원이고, 이러한 세그먼트가 내보내기를 트리거한 세그먼트와 동일한 병합 정책을 공유하는 경우 매핑되지 않은 다른 세그먼트가 나타날 수 있습니다. 프로필이 **데로리안 차종 고객** 세그먼트이지만 **&quot;Back to the Future&quot; 영화를 시청했습니다.** 및 **SF 팬** 세그먼트를 만들면 이러한 다른 두 세그먼트가 `segmentMembership` 동일한 병합 정책을 공유하면 데이터 내보내기의 개체가 데이터 흐름에서 매핑되지 않더라도 데이터 내보내기의 개체입니다 **데로리안 차종 고객** 세그먼트.

프로필 속성 POV에서 위에 매핑된 4개의 속성에 대한 변경 사항이 대상 내보내기를 결정하며 프로필에 있는 4개의 매핑된 속성이 데이터 내보내기에 표시됩니다.

>[!ENDSHADEBOX]

>[!TIP]
>
> 에서 다양한 엔터프라이즈 대상으로 내보낸 데이터의 예를 볼 수 있습니다 [Amazon Kinesis](/help/destinations/catalog/cloud-storage/amazon-kinesis.md#exported-data), [Azure 이벤트 허브](/help/destinations/catalog/cloud-storage/azure-event-hubs.md#exported-data), 및 [HTTP API](/help/destinations/catalog/streaming/http-destination.md#exported-data) 대상 설명서 페이지.

## 스트리밍 API 기반 대상 {#streaming-api-based-destinations}

facebook, Trade Desk 및 기타 API 기반 통합과 같은 스트리밍 대상에 대한 프로필 내보내기 동작은 위와 동일합니다.

대상 예: 광고, 소셜 등

Experience Platform은 세그먼트 자격 또는 기타 중요한 이벤트 후에 프로필에 대한 관련 업데이트가 발생한 경우에만 데이터를 스트리밍 API 기반 대상으로 내보내도록 스트리밍 대상으로의 프로필 내보내기 동작을 최적화합니다. 프로필은 다음과 같은 상황에서 대상에 내보내집니다.

* 프로필 업데이트는 [세그먼트 멤버십](/help/xdm/field-groups/profile/segmentation.md) 대상에 매핑된 세그먼트 중 하나 이상 필요합니다. 예를 들어 프로필이 대상에 매핑된 세그먼트 중 하나에 적격이거나 대상에 매핑된 세그먼트 중 하나를 끝냈습니다.
* 프로필 업데이트는 [id 맵](/help/xdm/field-groups/profile/identitymap.md) 이 대상 인스턴스에 대해 내보내기 위해 표시된 id 네임스페이스에 대해 사용할 수 없습니다. 예를 들어 대상에 매핑된 세그먼트 중 하나에 대해 이미 자격이 있는 프로필이 ID 맵 속성에 새 ID를 추가했습니다.
* 프로필 업데이트는 대상에 매핑된 특성 중 하나 이상에 대한 특성 변경에 의해 결정됩니다. 예를 들어 매핑 단계에서 대상에 매핑된 속성 중 하나가 프로필에 추가됩니다.
* 자동화된 동의 적용이 구성되어 있고 프로필이 옵트아웃될 때 프로필에 대한 동의 변경 사항입니다. 자동화된 동의 적용은 프로필이 대상의 타겟팅에 포함되지 않도록 대상 종료한 이벤트를 대상으로 보냅니다.

위에 설명된 모든 경우 관련 업데이트가 발생한 프로필만 대상으로 내보내집니다. 예를 들어 대상 플로우에 매핑된 세그먼트에 100개의 멤버가 있고 5개의 새 프로필이 세그먼트에 대한 자격이 있는 경우 대상에 내보내기는 증분 결과이며 5개의 새 프로필만 포함합니다.

변경 사항이 있는 위치에 상관없이 매핑된 모든 속성이 프로필에 대해 내보내집니다. 따라서 위의 예에서 이러한 5개의 새 프로필에 대해 매핑된 속성은 속성 자체가 변경되지 않았더라도 내보내집니다.

### 데이터 내보내기와 내보내기에 포함된 내용을 결정하는 것은 무엇입니까?

주어진 프로필에 대해 내보낸 데이터와 관련하여 스트리밍 API 대상에 대한 데이터 내보내기를 결정하는 내용과 내보내기에 포함된 데이터에 대한 두 가지 개념을 이해하는 것이 중요합니다.

| 대상 내보내기를 결정하는 것은 무엇입니까? | 대상 내보내기에 포함된 항목 |
|---------|----------|
| <ul><li>매핑된 속성 및 세그먼트는 대상 내보내기의 단서로 사용됩니다. 즉, 매핑된 세그먼트가 상태(null에서 실현됨 또는 실현됨/존재에서 종료로)를 변경하거나 매핑된 속성을 업데이트하면 대상 내보내기가 해제됩니다.</li><li>ID 맵의 변경 사항은 다음에 대해 추가/제거된 ID로 정의됩니다 [id 그래프](/help/identity-service/ui/identity-graph-viewer.md) 내보낼 ID 네임스페이스에 대해 매핑됩니다.</li><li>속성에 대한 변경 사항은 대상에 매핑된 속성의 속성 갱신으로 정의됩니다.</li></ul> | <ul><li>대상에 매핑되고 변경된 세그먼트는 `segmentMembership` 개체. 일부 시나리오에서는 여러 호출을 사용하여 내보낼 수 있습니다. 또한 일부 시나리오에서는 변경되지 않은 일부 세그먼트가 호출에 포함될 수 있습니다. 어떤 경우든 매핑된 세그먼트만 내보내집니다.</li><li>네임스페이스의 모든 ID가 `identityMap` 개체도 포함됩니다.</li><li>매핑된 속성만 대상 내보내기에 포함됩니다.</li></ul> |

{style=&quot;table-layout:fixed&quot;}

>[!IMPORTANT]
>
>스트리밍 API 대상은 프로필을 대상으로 활성화할 때 데이터를 스트리밍합니다. 즉, 대상에 활성화 워크플로우를 구성한 후 첫 번째 데이터 내보내기에는 세그먼트가 대상에 매핑되기 전에 활성화된 세그먼트에 대해 자격이 있는 프로필이 포함됩니다.

>[!BEGINSHADEBOX]

예를 들어 이 데이터 흐름을 데이터 플로우에서 세 개의 세그먼트를 선택한 스트리밍 대상으로 간주합니다.

![스트리밍 대상 데이터 흐름](/help/destinations/assets/how-destinations-work/streaming-destination-example-dataflow.png)

대상에 대한 프로필 내보내기는 매핑된 세 개의 세그먼트 중 하나에 대해 자격이 있는 프로필로 결정할 수 있습니다. 프로필이 **데로리안 차종 고객** 세그먼트, 내보내기를 트리거합니다. 다른 세그먼트(**도시 - 댈러스** 및 **기본 사이트 활성**)를 내보낼 수 있습니다. 이는 프로필에서 가능한 상태(`realized`, `existing`, `exited`). 매핑되지 않은 세그먼트(예: **SF 팬**)은 내보내지지 않습니다.

프로필 속성 POV에서 위에 매핑된 세 가지 속성을 변경하면 대상 내보내기가 결정됩니다.

>[!ENDSHADEBOX]

## 배치(파일 기반) 대상 {#file-based-destinations}

프로필을 로 내보낼 때 [파일 기반 대상](/help/destinations/destination-types.md#file-based) Experience Platform에는 사용할 수 있는 세 가지 유형의 예약(아래에 나열됨)과 두 가지 파일 내보내기 옵션(전체 파일 또는 증분 파일)이 있습니다. 이러한 모든 설정은 여러 세그먼트가 단일 대상 데이터 로드에 매핑되는 경우에도 세그먼트 수준에서 설정됩니다.

* 예약된 내보내기: 대상을 구성하고, 하나 이상의 세그먼트를 추가하고, 전체 또는 증분 파일을 내보내려면 선택하고, 파일을 내보낼 때 매일 또는 하루에 여러 번 세트 시간을 선택합니다. 예를 들어 오후 5시 내보내기 시간은 세그먼트에 대한 자격이 있는 프로필을 오후 5시에 내보내는 것을 의미합니다.
* 세그먼트 평가 후: 내보내기는 일별 세그먼트 평가 작업이 실행된 직후에 트리거됩니다. 즉, 파일에서 내보낸 프로필 번호가 세그먼트의 가장 최근에 평가된 모집단에 최대한 근접합니다.
* 주문형 내보내기([지금 파일 내보내기](/help/destinations/ui/export-file-now.md)): 최신 세그먼트 평가 작업을 기반으로 전체 파일을 정기적으로 예약된 내보내기 위에 한 번 내보냅니다.

위의 내보내기 상황에서 내보낸 파일에는 내보내기에 적합한 프로필과 내보낼 XDM 속성으로 선택한 열이 포함되어 있습니다.

>[!TIP]
>
>스트리밍 세그먼트가 배치 대상에 매핑되면 내보낸 파일의 프로필 수가 세그먼트의 사용자 수에 더 근접할 가능성이 있습니다. 이는 최신 세그먼트 평가가 내보내기 시간에 더 가깝게 실행될 가능성이 높기 때문입니다.

### 증분 파일 내보내기 {#incremental-file-exports}

프로필의 모든 업데이트는 프로필을 증분 파일 내보내기에 포함할 수 없습니다. 예를 들어, 속성에 가 추가되거나 프로필에서 제거된 경우 내보내기에 해당 프로필이 포함되지 않습니다. Analytics Mobile Apps 또는 Analytics Premium이 `segmentMembership` 변경된 속성이 내보낸 파일에 포함됩니다. 즉, 프로필이 세그먼트의 일부가 되거나 세그먼트에서 제거된 경우에만 증분 파일 내보내기에 포함됩니다.

마찬가지로, 새 ID(새 이메일 주소, 전화번호, ECID 등)가 의 프로필에 추가되는 경우 [id 그래프](/help/identity-service/ui/identity-graph-viewer.md)를 채울 수 있지만 새 증분 파일 내보내기에 프로필을 포함하는 이유는 나타냅니다.

새 세그먼트가 대상 매핑에 추가되는 경우, 다른 세그먼트의 자격 및 내보내기에 영향을 주지 않습니다. 내보내기 일정은 세그먼트별로 개별적으로 구성되며 세그먼트가 동일한 대상 데이터 플로우에 추가되었더라도 모든 세그먼트에 대해 개별적으로 내보내집니다.

>[!BEGINSHADEBOX]

예를 들어, 아래 표시된 내보내기 설정에서 세그먼트가 증분 파일 업데이트를 내보내는 경우 프로필이 증분 파일 내보내기에 포함되거나 포함되지 않는 다음 상황을 참고하십시오.

![선택한 여러 특성을 사용하여 설정을 내보냅니다.](/help/destinations/assets/how-destinations-work/export-selection-batch-destination.png)

* 세그먼트가 분류되거나 제거되면 프로필이 증분 파일 내보내기에 포함됩니다.
* 프로필은 *not* 새 전화 번호가 id 그래프에 추가되면 증분 파일 내보내기에 포함됩니다.
* 프로필은 *not* 매핑된 XDM 필드 값(예: `xdm: loyalty.points`, `xdm: loyalty.tier`, `xdm: personalEmail.address` 은 프로필에서 업데이트됩니다.
* 항상 `segmentMembership.status` XDM 필드는 대상 활성화 워크플로우에 매핑되며 세그먼트를 종료한 프로필도 내보낸 증분 파일에 와 함께 포함됩니다 `exited` 상태.

>[!ENDSHADEBOX]

### 데이터 내보내기와 내보내기에 포함된 내용을 결정하는 것은 무엇입니까?

위의 섹션에 있는 정보를 기반으로 파일 기반 대상으로 프로필 내보내기 동작을 아래에 설명된 대로 요약할 수 있습니다.

**전체 파일 내보내기**

세그먼트의 전체 모집단을 매일 내보냅니다.

| 대상 내보내기를 결정하는 것은 무엇입니까? | 내보낸 파일에 포함된 내용 |
|---------|----------|
| <ul><li>UI 또는 API와 사용자 작업에서 설정된 내보내기 예약(선택) [지금 파일 내보내기](/help/destinations/ui/export-file-now.md) UI에서 또는 [ad-hoc 활성화 API](/help/destinations/api/ad-hoc-activation-api.md))에서 대상 내보내기의 시작을 결정합니다.</li><li>세그먼트에서 자격을 얻거나 세그먼트를 해제할 때 프로필의 세그먼트 멤버십을 변경하면 증분 내보내기에 프로필을 포함할 수 있습니다.</li></ul> | 전체 파일 내보내기에서는 최신 세그먼트 평가를 기반으로 세그먼트의 전체 프로필 모집단이 각 파일 내보내기에 포함됩니다. 내보내도록 선택한 각 XDM 속성의 최신 값도 각 파일에 열로 포함됩니다. |

{style=&quot;table-layout:fixed&quot;}

**증분 파일 내보내기**

활성화 워크플로우를 설정한 후 첫 번째 파일 내보내기에서 세그먼트의 전체 모집단을 내보냅니다. 이후 내보내기에서는 수정된 프로필만 내보냅니다.

| 대상 내보내기를 결정하는 것은 무엇입니까? | 내보낸 파일에 포함된 내용 |
|---------|----------|
| <ul><li>UI 또는 API의 내보내기 예약 세트에 따라 대상 내보내기의 시작이 결정됩니다.</li><li>세그먼트에서 자격을 얻거나 세그먼트를 해제할 때 프로필의 세그먼트 멤버십을 변경하면 증분 내보내기에 프로필을 포함할 수 있습니다. 프로필의 속성 또는 ID 맵의 변경 사항 *포함하지 않음* 증분 내보내기에 포함할 프로필을 분류합니다.</li></ul> | 세그먼트 멤버십이 변경된 프로필과 내보내기 위해 선택한 각 XDM 속성에 대한 최신 정보를 제공합니다. |

{style=&quot;table-layout:fixed&quot;}

>[!TIP]
>
>다시 말해서, 프로필에 대한 ID 맵이나 속성 값을 변경하면 증분 파일 내보내기에 프로필을 포함할 수 없습니다.

## 다음 단계 {#next-steps}

이 문서를 읽은 후에는 스트리밍, 엔터프라이즈 및 파일 기반 대상으로 프로필 내보내기에서 어떤 내용을 볼 것인지 알 수 있습니다.

다음은 어떻게 [id가 처리됩니다](/help/destinations/how-destinations-work/identity-handling.md) 활성화 워크플로우에서 생성합니다.