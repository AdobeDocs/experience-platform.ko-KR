---
title: 코어 확장 개요
description: Adobe Experience Platform의 코어 태그 확장에 대해 알아봅니다.
exl-id: 841f32ad-a6a8-49fb-a131-ef4faab47187
source-git-commit: 77313baabee10e21845fa79763c7ade4e479e080
workflow-type: tm+mt
source-wordcount: '5482'
ht-degree: 62%

---

# 코어 확장 개요

>[!NOTE]
>
>Adobe Experience Platform Launch은 Adobe Experience Platform에서 데이터 수집 기술 세트로 브랜딩되었습니다. 그 결과로 제품 설명서 전반에서 몇 가지 용어 변경이 있었습니다. 용어 변경에 대한 통합 참고 자료는 다음 [문서](../../../term-updates.md)를 참조하십시오.

코어 태그 확장은 Adobe Experience Platform과 함께 릴리스된 기본 확장입니다.

이 문서에서는 Core 확장을 사용하여 규칙을 작성할 때 사용할 수 있는 옵션에 대한 정보를 제공합니다.

## 코어 확장 이벤트 유형 {#core-extension-event-types}

이 항목에서는 코어 확장에서 사용할 수 있는 이벤트 유형을 설명합니다. 여러 가지 다른 이벤트 유형에 대해 설정할 수 있는 옵션에 대한 자세한 내용은 [옵션](#options) 섹션을 참조하십시오.

### 브라우저 기반 이벤트

#### 탭 흐림 효과

탭 흐림 이벤트는 탭이 포커스를 잃으면 작업을 트리거합니다. 이 이벤트 유형에 대한 설정이 없습니다.

#### 탭 포커스

Tab-focus 이벤트는 탭이 포커스를 얻으면 작업을 트리거합니다. 이 이벤트 유형에 대한 설정이 없습니다.

### 양식

#### 흐림 효과

흐림 효과 이벤트는 양식이 포커스를 잃으면 작업을 트리거합니다. 자세한 내용은 [옵션](#options) 사용자 지정 가능한 이벤트 설정에 대한 자세한 내용을 보려면 섹션을 참조하십시오.

#### 포커스

포커스 이벤트는 양식이 포커스를 얻으면 작업을 트리거합니다. 자세한 내용은 [옵션](#options) 사용자 지정 가능한 이벤트 설정에 대한 자세한 내용을 보려면 섹션을 참조하십시오.

#### 제출

제출 이벤트는 양식을 제출할 때 작업을 트리거합니다. 자세한 내용은 [옵션](#options) 사용자 지정 가능한 이벤트 설정에 대한 자세한 내용을 보려면 섹션을 참조하십시오.

### 키보드 제어 이벤트

#### 키 누르기

이 이벤트는 키를 누르면 트리거됩니다. 자세한 내용은 [옵션](#options) 사용자 지정 가능한 이벤트 설정에 대한 자세한 내용을 보려면 섹션을 참조하십시오.

### 미디어 기반 이벤트

#### 미디어가 종료됨

이벤트는 미디어가 종료되면 트리거됩니다. 자세한 내용은 [옵션](#options) 사용자 지정 가능한 이벤트 설정에 대한 자세한 내용을 보려면 섹션을 참조하십시오.

#### 미디어에 데이터가 로드됨

이벤트는 미디어가 데이터를 로드할 때 트리거됩니다. 자세한 내용은 [옵션](#options) 사용자 지정 가능한 이벤트 설정에 대한 자세한 내용을 보려면 섹션을 참조하십시오.

#### 미디어 일시 중지

미디어가 일시 중지되면 이벤트가 트리거됩니다. 자세한 내용은 [옵션](#options) 사용자 지정 가능한 이벤트 설정에 대한 자세한 내용을 보려면 섹션을 참조하십시오.

#### 미디어 재생

이벤트는 미디어가 재생될 때 트리거됩니다. 자세한 내용은 [옵션](#options) 사용자 지정 가능한 이벤트 설정에 대한 자세한 내용을 보려면 섹션을 참조하십시오.

#### 미디어가 중단됨

미디어가 중단되는 경우 이벤트가 트리거됩니다. 자세한 내용은 [옵션](#options) 사용자 지정 가능한 이벤트 설정에 대한 자세한 내용을 보려면 섹션을 참조하십시오.

#### 미디어 재생 시간

지정된 시간 동안 미디어가 재생되면 이벤트가 트리거됩니다. 이벤트를 트리거하기 위해 미디어를 재생해야 하는 기간을 지정해야 합니다. 자세한 내용은 [옵션](#options) 사용자 지정 가능한 이벤트 설정에 대한 자세한 내용을 보려면 섹션을 참조하십시오.


#### 미디어 볼륨이 조정됨

볼륨을 높이거나 낮춘 경우 이벤트가 트리거됩니다. 자세한 내용은 [옵션](#options) 사용자 지정 가능한 이벤트 설정에 대한 자세한 내용을 보려면 섹션을 참조하십시오.

### 모바일 장치 지향 이벤트

#### 방향 변경

이 이벤트는 장치의 방향이 바뀌는 경우 트리거됩니다. 이벤트를 트리거하기 위해 방향을 변경해야 하는 기간을 지정해야 합니다. 이 이벤트 유형에 대한 설정이 없습니다.

#### 확대/축소 변경

이벤트는 사용자가 확대하거나 축소할 경우 트리거됩니다. 이 이벤트 유형에 대한 설정이 없습니다.

### 마우스 제어 이벤트

#### 클릭

지정된 요소가 선택된 경우(클릭됨) 이벤트가 트리거됩니다. 선택적으로, 이벤트가 트리거되기 전에 요소가 true여야 하는 속성 값을 지정할 수 있습니다.

요소가 앵커 태그인 경우(`<a>`)를 연결된 컨텐츠에 지정하여 일정 기간 탐색 지연 여부를 지정할 수도 있습니다. 이 기능은 규칙을 실행하는 데 추가적인 시간이 필요하고 페이지 탐색을 수행하기 전에 일반적으로 완료되지 않는 경우에 유용합니다.

>[!WARNING]
>
>이 옵션은 잘못 사용하는 경우 사용자 경험에 부정적인 영향을 줄 수 있으므로 매우 주의해야 합니다.

링크 지연을 사용하는 경우 Platform은 브라우저가 페이지 밖에서 탐색하지 못하도록 합니다. 그런 다음 지정된 시간 초과 후 원래 대상으로 JavaScript 리디렉션을 수행합니다. 이는 페이지 마크업에 `<a>` 의도한 기능이 실제로 사용자를 페이지에서 멀리 탐색하지 않는 태그입니다. 다른 방식으로 문제를 해결할 수 없는 경우에는 선택기 정의를 사용하여 이 이벤트가 필요한 위치와 다른 곳에서 정확히 트리거되도록 해야 합니다.

기본 링크 지연 값은 100밀리초입니다. 태그는 지정된 시간 동안 항상 대기하며 어떤 식으로든 규칙 작업 실행에 연결되어 있지 않습니다. 지연을 통해 사용자가 필요한 기간보다 오래 대기할 수 있으며, 지연이 모든 규칙의 작업이 성공적으로 완료되는 데 충분하지 않을 수 있습니다. 지연 시간이 길어질수록 규칙 실행 시간이 늘어났지만 사용자 경험을 더 악화시킵니다.

지연을 구현하려면 이벤트를 트리거하는 선택한 요소와 이벤트가 트리거되기 전의 특정 시간을 모두 제공해야 합니다.

고급 옵션에 대해서는 [옵션](#options) 섹션을 참조하십시오.

#### 마우스로 가리키기

사용자가 지정된 요소를 마우스로 가리키면 이벤트가 트리거됩니다. 규칙이 즉시 트리거되는지 아니면 지정된 시간(밀리초) 이후에 트리거되는지를 구성해야 합니다. 자세한 내용은 [옵션](#options) 사용자 지정 가능한 이벤트 설정에 대한 자세한 내용을 보려면 섹션을 참조하십시오.

### 기타 이벤트

#### 사용자 지정 이벤트

이벤트는 사용자 지정 이벤트 유형이 발생하는 경우 트리거됩니다. 코드베이스의 다른 곳에 정의된 명명된 JavaScript 함수는 사용자 지정 이벤트 유형으로 사용할 수 있습니다. 사용자 지정 이벤트 유형의 이름을 지정하고 다음에 설명된 대로 다른 설정을 구성해야 합니다. [옵션](#options) 섹션을 참조하십시오.

#### 데이터 요소가 변경됨

지정된 데이터 요소가 변경되면 이벤트가 트리거됩니다. 데이터 요소의 이름을 입력해야 합니다. 텍스트 필드에 해당 이름을 입력하거나 텍스트 필드의 오른쪽에 있는 데이터 요소 아이콘을 선택하고 대화 상자 내에 제공된 목록에서 선택하여 데이터 요소를 선택할 수 있습니다.

#### 직접 호출 {#direct-call-event}

직접 호출 이벤트는 이벤트 감지 및 조회 시스템을 건너뜁니다. 직접 호출 규칙은 발생한 사항을 시스템에 정확히 알려줘야 하는 상황에 이상적입니다. 또한, 시스템에서 DOM에서 이벤트를 탐지할 수 없을 때에도 이상적입니다.

직접 호출 이벤트를 정의할 때는 이 이벤트의 식별자로 작동할 문자열을 지정해야 합니다. 다음과 같은 경우 [직접 호출 작업 트리거](#direct-call-action) 동일한 식별자를 포함하는 경우 해당 식별자를 수신하는 모든 직접 호출 이벤트 규칙이 실행됩니다.

![데이터 수집 UI의 직접 호출 이벤트 스크린샷](../../../images/extensions/core/direct-call-event.png)

#### 요소가 존재함

지정된 요소가 있으면 이벤트가 트리거됩니다. 자세한 내용은 [옵션](#options) 사용자 지정 가능한 이벤트 설정에 대한 자세한 내용을 보려면 섹션을 참조하십시오.

#### 뷰포트 입력

사용자가 지정된 뷰포트를 입력하는 경우 이벤트가 트리거됩니다. 일치하는 요소를 타깃팅하려면 기준으로 CSS 선택기를 제공해야 합니다. 또한 규칙이 즉시 트리거되는지 아니면 지정된 시간(밀리초) 이후에 트리거되는지 여부와 이벤트가 발생할 때마다 트리거되어야 하는지 아니면 처음 트리거해야 하는지를 구성해야 합니다.

자세한 내용은 [옵션](#options) 사용자 지정 가능한 이벤트 설정에 대한 자세한 내용을 보려면 섹션을 참조하십시오.

#### 기록 변경

이 이벤트는 pushState 또는 hashchange 이벤트가 발생하는 경우 트리거됩니다. 이 이벤트 유형에 대한 설정이 없습니다.

#### 페이지에서 보낸 시간

사용자가 지정된 시간(초) 동안 페이지에 남아 있는 경우 이벤트가 트리거됩니다. 이벤트가 트리거되기 전에 경과해야 하는 시간(초)을 지정해야 합니다.

### 페이지 로드 이벤트

#### DOM 지원

이벤트는 DOM이 준비되고 사용자가 페이지와 상호 작용할 수 있을 때 트리거됩니다. 이 이벤트 유형에 대한 설정이 없습니다.

#### Library Loaded (Page Top) {#library-loaded-page-top}

이벤트는 태그 라이브러리가 로드되면 바로 트리거됩니다. 이 이벤트 유형에 대한 설정이 없습니다.

#### 페이지 하단 {#page-bottom}

이벤트는 한 번 트리거됩니다 `_satellite.pageBottom();` 이 호출되었습니다. 태그 라이브러리를 비동기식으로 로드할 때 이 이벤트 유형을 사용하지 않아야 합니다. 이 이벤트 유형에 대한 설정이 없습니다.

#### Window Loaded

이 이벤트는 브라우저에서 onLoad가 호출되고 페이지 로드가 완료되면 트리거됩니다. 이 이벤트 유형에 대한 설정이 없습니다.

### 옵션 {#options}

각 양식 이벤트 유형은 다음 설정을 사용합니다.

#### Specific Elements \| Any Element

* 만약 **[!UICONTROL 특정 요소]**&#x200B;로 설정되면 요소 및 속성 값을 선택하는 옵션이 나타납니다.
* 만약 **[!UICONTROL 모든 요소]**&#x200B;를 채울 때는 요소 범위를 좁히는 데 더 이상 필요한 옵션이 없습니다.

#### Elements matching the CSS selector

이벤트를 트리거하는 요소를 식별하는 CSS 선택기를 입력합니다.

#### And having certain property values

이 옵션을 선택하면 다음 매개 변수를 사용할 수 있습니다.

* `property=value`

   Specify the value for the property

* Regex

   `property=value`가 정규 표현식인 경우 활성화합니다.

* 이벤트가 복제되지 않도록 하면서 현재 이벤트 변수에

   다른 `property=value` 쌍을 추가합니다.

#### Advanced options (Bubbling)

* 이벤트가 하위 요소에서 생성되는 경우에도 이 규칙을 실행합니다.
* 이벤트가 이미 하위 요소를 대상으로 하는 규칙을 트리거한 경우에도 이 규칙이 실행되도록 허용합니다.
* 규칙이 실행되면 이벤트가 상위 요소를 타깃팅하는 규칙이 트리거되지 않습니다.

## 코어 확장 조건 유형

이 섹션에서는 코어 확장에서 사용할 수 있는 조건 유형을 설명합니다. 이러한 조건 유형은 일반 또는 예외 논리 유형과 함께 사용할 수 있습니다.

### 데이터

#### 쿠키

이벤트가 작업을 트리거하기 위해 존재해야 하는 쿠키 이름과 값을 지정합니다.

1. 쿠키 이름을 지정합니다.
1. 작업을 트리거하는 이벤트인 경우 쿠키에 존재해야 하는 값을 입력합니다.
1. (선택 사항) 정규 표현식인 경우 Regex를 활성화합니다.

#### 사용자 지정 코드

이벤트의 조건으로 존재해야 하는 사용자 지정 코드를 지정합니다.

>[!NOTE]
>
>이제 ES6+ JavaScript가 사용자 지정 코드에서 지원됩니다. 일부 이전 브라우저는 ES6+를 지원하지 않습니다. ES6+ 함수를 사용하는 것이 미치는 영향을 이해하려면 지원되어야 하는 모든 웹 브라우저에 대해 테스트하십시오.

내장된 코드 편집기를 사용하여 사용자 지정 코드를 입력합니다:

1. 선택 **[!UICONTROL 편집기 열기]**.
1. 사용자 지정 코드를 입력합니다.
1. **[!UICONTROL 저장]**&#x200B;을 선택합니다.

사용자 지정 코드 내에서 참조할 수 있는 `event`라는 변수를 자동으로 사용할 수 있습니다. `event` 개체에는 규칙을 트리거한 이벤트에 대한 유용한 정보가 포함됩니다. 사용 가능한 이벤트 데이터를 확인하는 가장 쉬운 방법은 사용자 지정 코드 내에서 `event` 콘솔에 기록하는 것입니다.

```javascript
console.log(event);
return true;
```

브라우저에서 규칙을 실행하고 브라우저의 콘솔에서 기록된 이벤트 개체를 검사합니다. 사용 가능한 정보를 이해하면 사용자 지정 코드 내에서 프로그래밍 의사 결정에 사용할 수 있습니다.

*조건 순서 지정*

속성 설정의 &quot;시퀀스에서 규칙 구성 요소 실행&quot; 옵션이 활성화되면 조건이 비동기 작업을 수행하는 동안 후속 규칙 구성 요소를 대기시킬 수 있습니다.

조건이 [약속](https://developer.mozilla.org/ko-KR/docs/Web/JavaScript/Reference/Global_Objects/Promise)을 반환하는 경우 반환된 약속이 해결될 때까지 규칙의 다음 조건이 실행되지 않습니다. 약속이 거부되면 태그는 해당 조건을 실패로 간주하여 해당 규칙의 추가 조건 또는 작업이 실행되지 않습니다.

약속을 반환하는 조건의 예:

```javascript
return new Promise(function(resolve, reject) {
  setTimeout(function() {
    if (new Date().getDay() === 5) {
      resolve();
    } else {
      reject();
    }
  }, 1000);
});
```

#### 값 비교 {#value-comparison}

두 값을 비교하여 이 조건이 true를 반환하는지 여부를 확인합니다.

규칙에 여러 조건이 있는 경우 이 조건이 true를 반환하지만 다른 조건이 false로 평가되거나 예외 항목 중 하나가 true로 평가되기 때문에 규칙이 실행되지 않을 수 있습니다.

1. 값을 제공합니다.
1. 연산자를 선택합니다. 자세한 내용은 아래의 값 비교 연산자 목록을 참조하십시오.
1. (필요한 경우) 비교가 대소문자를 구분해야 하는지 여부를 선택합니다.
1. 비교할 다른 값을 제공합니다.

다음 값 비교 연산자를 사용할 수 있습니다.

**같음:** 엄격하지 않은 비교(JavaScript에서 == 연산자)를 사용하여 두 값이 같으면 조건이 true를 반환합니다. 값은 모든 유형일 수 있습니다. _true_, _false_, _null_ 또는 _undefined_&#x200B;와 같은 단어를 값 필드에 입력할 때 이 단어는 문자열로 비교되고 같은 의미의 JavaScript로 변환되지 않습니다.

**같지 않음:** 엄격하지 않은 비교(JavaScript에서 != 연산자)를 사용하여 두 값이 같지 않으면 조건이true를 반환합니다. 값은 모든 유형일 수 있습니다. _true_, _false_, _null_ 또는 _undefined_&#x200B;와 같은 단어를 값 필드에 입력할 때 이 단어는 문자열로 비교되고 같은 의미의 JavaScript로 변환되지 않습니다.

**포함:** 첫 번째 값에 두 번째 값이 포함되면 조건이 true를 반환합니다. 숫자는 문자열로 변환됩니다. 숫자 또는 문자열 이외의 값은 false를 반환하는 조건이 됩니다.

**포함하지 않음:** 첫 번째 값에 두 번째 값이 포함되지 않으면 조건이 true를 반환합니다. 숫자는 문자열로 변환됩니다. 숫자 또는 문자열 이외의 값은 true를 반환하는 조건이 됩니다.

**다음으로 시작:** 첫 번째 값이 두 번째 값으로 시작하는 경우 조건이 true를 반환합니다. 숫자는 문자열로 변환됩니다. 숫자 또는 문자열 이외의 값은 false를 반환하는 조건이 됩니다.

**다음으로 시작하지 않음:** 첫 번째 값이 두 번째 값으로 시작되지 않으면 조건이 true를 반환합니다. 숫자는 문자열로 변환됩니다. 숫자 또는 문자열 이외의 값은 true를 반환하는 조건이 됩니다.

**종료 문자:** 첫 번째 값이 두 번째 값으로 끝나는 경우 조건이 true를 반환합니다. 숫자는 문자열로 변환됩니다. 숫자 또는 문자열 이외의 값은 false를 반환하는 조건이 됩니다.

**다음으로 끝나지 않음:** 첫 번째 값이 두 번째 값으로 끝나지 않으면 조건이 true를 반환합니다. 숫자는 문자열로 변환됩니다. 숫자 또는 문자열 이외의 값은 true를 반환하는 조건이 됩니다.

**RegEx와 일치:** 첫 번째 값이 정규 표현식과 일치하면 조건이 true를 반환합니다. 숫자는 문자열로 변환됩니다. 숫자 또는 문자열 이외의 값은 false를 반환하는 조건이 됩니다.

**Regex와 일치하지 않음:** 첫 번째 값이 정규 표현식과 일치하지 않으면 조건이 true를 반환합니다. 숫자는 문자열로 변환됩니다. 숫자 또는 문자열 이외의 값은 true를 반환하는 조건이 됩니다.

**다음보다 작음:** 첫 번째 값이 두 번째 값보다 작은 경우 조건이 true를 반환합니다. 숫자를 나타내는 문자열은 숫자로 변환됩니다. 숫자 또는 변환 가능한 문자열 이외의 값은 false를 반환하는 조건이 됩니다.

**다음보다 작거나 같음:** 첫 번째 값이 두 번째 값보다 작거나 같은 경우 조건이 true를 반환합니다. 숫자를 나타내는 문자열은 숫자로 변환됩니다. 숫자 또는 변환 가능한 문자열 이외의 값은 false를 반환하는 조건이 됩니다.

**다음보다 큼:** 첫 번째 값이 두 번째 값보다 큰 경우 조건이 true를 반환합니다. 숫자를 나타내는 문자열은 숫자로 변환됩니다. 숫자 또는 변환 가능한 문자열 이외의 값은 false를 반환하는 조건이 됩니다.

**다음보다 크거나 같음:** 첫 번째 값이 두 번째 값보다 크거나 같은 경우 조건이 true를 반환합니다. 숫자를 나타내는 문자열은 숫자로 변환됩니다. 숫자 또는 변환 가능한 문자열 이외의 값은 false를 반환하는 조건이 됩니다.

**참인 경우:** 값이 true 값을 갖는 부울이면 조건이 true를 반환합니다. 제공한 값이 다른 유형인 경우 부울로 변환되지 않습니다. true 값을 갖는 부울 이외의 값은 false를 반환하는 조건이 됩니다.

**참 같은 값(Truthy)인 경우:** 값이 부울로 변환된 후 true이면 조건이 true를 반환합니다. 신뢰할 수 있는 값의 예는 [MDN의 Truthy 설명서](https://developer.mozilla.org/ko-KR/docs/Glossary/Truthy)를 참조하십시오.

**거짓인 경우:** 값이 false 값을 갖는 부울이면 조건이 true를 반환합니다. 제공한 값이 다른 유형인 경우 부울로 변환되지 않습니다. false 값을 갖는 부울 이외의 값은 false를 반환하는 조건이 됩니다.

**거짓 같은 값(Falsy):** 값이 부울로 변환된 후 false이면 조건이 true를 반환합니다. 잘못된 값의 예는 [MDN의 Falsy 설명서](https://developer.mozilla.org/ko-KR/docs/Glossary/Falsy)를 참조하십시오.

#### 변수

이벤트가 작업을 트리거하기 위해 존재해야 하는 JavaScript 변수 이름과 값을 지정합니다.

1. JavaScript 변수 이름을 지정합니다.
1. 이벤트의 조건으로 존재해야 하는 변수 값을 지정합니다.
1. (선택 사항) 정규 표현식인 경우 Regex를 활성화합니다.

### 참여

#### 랜딩 페이지

이벤트를 트리거하기 위해 사용자가 방문해야 하는 페이지를 지정합니다.

1. 랜딩 페이지를 지정합니다.
1. (선택 사항) 정규 표현식인 경우 Regex를 활성화합니다.

#### 새/재방문자

작업을 트리거하기 위해 방문자가 이벤트에 대해 새 방문자여야 하는지 아니면 재방문자여야 하는지를 지정합니다.

다음 중 하나를 선택합니다.

* 새 방문자
* 돌아온 방문자

#### 페이지 보기 횟수

작업을 트리거하기 위해 방문자가 페이지를 봐야 하는 횟수를 구성합니다.

1. 페이지 보기 수가 지정된 값보다 커야 하는지, 같아야 하는지, 아니면 작아야 하는지를 선택합니다.
1. 조건을 충족하는지 여부를 결정하는 페이지 보기 수를 지정합니다.
1. 다음 중 하나를 선택하여 페이지 보기 수를 언제 계산하는지를 구성합니다.
   * 라이프타임
   * 현재 세션

#### 세션

사용자의 세션 수가 지정된 조건을 충족하면 작업을 트리거합니다.

1. 세션 수가 지정된 값보다 커야 하는지, 같아야 하는지, 아니면 작아야 하는지를 선택합니다.
1. 조건을 충족하는지 여부를 결정하는 세션 수를 지정합니다.

#### 사이트에서 보낸 시간

사용자의 세션 수가 지정된 조건을 충족하면 작업을 트리거합니다.

작업을 트리거하기 위해 방문자가 사이트에서 보내야 하는 시간을 구성합니다.

1. 방문자가 사이트에서 보내야 하는 시간(분)이 지정된 값보다 커야 하는지, 같아야 하는지, 아니면 작아야 하는지를 선택합니다.
1. 조건을 충족하는지 여부를 결정하는 시간(분)을 지정합니다.

#### 트래픽 소스

사용자의 세션 수가 지정된 조건을 충족하면 작업을 트리거합니다.

작업을 트리거하기 위해 true여야 하는 방문자의 트래픽 소스를 지정합니다.

1. 트래픽 소스를 지정합니다.
1. (선택 사항) 정규 표현식인 경우 Regex를 활성화합니다.

### 기술

#### 브라우저

작업을 트리거하기 위해 방문자가 사용해야 하는 브라우저를 선택합니다.

다음 브라우저 중에서 한 개 이상 선택합니다.

* Chrome
* Firefox
* Internet Explorer/Edge
* Internet Explorer Mobile
* Mobile Safari
* OmniWeb
* Opera
* Opera Mini
* Opera Mobile
* Safari

#### 장치 유형

작업을 트리거하기 위해 방문자가 사용해야 하는 장치 유형을 선택합니다.

다음 장치 유형 중에서 한 개 이상 선택합니다.

* Android
* Blackberry
* 데스크톱
* iPad
* iPhone
* iPod
* Nokia
* Windows Phone

#### 운영 체제

작업을 트리거하기 위해 방문자가 사용해야 하는 운영 체제를 선택합니다.

다음 운영 체제 중에서 한 개 이상 선택합니다.

* Android
* Blackberry
* iOS
* Linux
* MacOS
* Maemo
* Symbian OS
* Unix
* Windows

#### 화면 해상도

작업을 트리거하기 위해 방문자가 장치에서 사용해야 하는 화면 해상도를 선택합니다.

1. 방문자 장치의 화면 해상도 너비가 지정된 값보다 커야 하는지, 같아야 하는지, 아니면 작아야 하는지를 선택합니다.
1. 화면 해상도 너비에 필요한 픽셀 수를 지정합니다.
1. 방문자 장치의 화면 해상도 높이가 지정된 값보다 커야 하는지, 같아야 하는지, 아니면 작아야 하는지를 선택합니다.
1. 화면 해상도 높이에 필요한 픽셀 수를 지정합니다.

#### 창 크기

작업을 트리거하기 위해 방문자가 장치에서 사용해야 하는 창 크기를 선택합니다.

1. 방문자 장치의 창 크기 너비가 지정된 값보다 커야 하는지, 같아야 하는지, 아니면 작아야 하는지를 선택합니다.
1. 창 크기 너비에 필요한 픽셀 수를 지정합니다.
1. 방문자 장치의 창 크기 높이가 지정된 값보다 커야 하는지, 같아야 하는지, 아니면 작아야 하는지를 선택합니다.
1. 창 크기 높이에 필요한 픽셀 수를 지정합니다.

### URL

#### 도메인

방문자의 도메인을 지정합니다.

#### 해시

URL에 있어야 하는 해시 패턴을 한 개 이상 지정합니다.

>[!NOTE]
>
>여러 해시 패턴은 OR로 연결됩니다.

1. 해시 패턴을 지정합니다.
1. (선택 사항) 정규 표현식인 경우 Regex를 활성화합니다.
1. 다른 해시 패턴을 추가합니다.

#### 경로 및 쿼리 문자열

URL에 있어야 하는 경로를 한 개 이상 지정합니다.  여기에는 경로 및 쿼리 문자열이 포함됩니다.

>[!NOTE]
>
>여러 경로는 OR로 연결됩니다.

1. 경로를 지정합니다.
1. (선택 사항) 정규 표현식인 경우 Regex를 활성화합니다.
1. 다른 경로를 추가합니다.

#### 쿼리 문자열이 없는 경로

URL에 있어야 하는 경로를 한 개 이상 지정합니다.  여기에는 경로가 포함되지만 쿼리 문자열은 포함되지 않습니다.

>[!NOTE]
>
>여러 경로는 OR로 연결됩니다.

1. 경로를 지정합니다.
1. (선택 사항) 정규 표현식인 경우 Regex를 활성화합니다.
1. 다른 경로를 추가합니다.

#### 프로토콜

URL에 사용된 프로토콜을 지정합니다.

다음 중 하나를 선택합니다.

* HTTP
* HTTPS

#### 쿼리 문자열 매개 변수

URL에 사용된 URL 매개 변수를 지정합니다.

1. URL 매개 변수 이름을 지정합니다.
1. URL 매개 변수에 사용된 값을 지정합니다.
1. (선택 사항) 정규 표현식인 경우 Regex를 활성화합니다.

#### 하위 도메인

URL에 있어야 하는 하위 도메인을 한 개 이상 지정합니다.

>[!NOTE]
>
>여러 하위 도메인은 OR로 연결됩니다.

1. 하위 도메인을 지정합니다.
1. (선택 사항) 정규 표현식인 경우 Regex를 활성화합니다.
1. 다른 하위 도메인을 추가합니다.

### 기타

#### 날짜 범위

날짜 범위를 지정합니다. 이후에 이벤트가 발생한 날짜 및 시간, 이전에 이벤트가 발생한 날짜 및 시간대를 선택합니다.

#### 최대 빈도

조건이 true를 반환하는 최대 횟수를 지정합니다. 다음 옵션 중에서 선택할 수 있습니다.

* 페이지 보기
* 세션
* 방문자
* 초
* 분
* 일
* 주
* 개월

세션당 최대 빈도 1 조건의 경우 이 두 `localStorage` 항목을 비교합니다. `visitorTracking.sessionCount`가 `maxFrequency.session` 개수보다 큰 경우 샘플링 조건은 true입니다. 같은 경우 조건은 false입니다.

`sessionCount`는 `visitorTracking` 항목이므로 샘플링 조건이 작동하도록 방문자 API를 활성화해야 합니다.

#### 샘플링

조건이 true를 반환하는 시간의 백분율을 지정합니다.

## 코어 확장 작업 유형

이 섹션에서는 코어 확장에서 사용할 수 있는 작업 유형을 설명합니다.

### 사용자 지정 코드

>[!NOTE]
>
>이제 ES6+ JavaScript가 사용자 지정 코드에서 지원됩니다. 일부 이전 브라우저는 ES6+를 지원하지 않습니다. ES6+ 함수를 사용하는 것이 미치는 영향을 이해하려면 지원되어야 하는 모든 웹 브라우저에 대해 테스트하십시오.

이벤트가 트리거되고 조건이 평가된 후 실행되는 코드를 제공합니다.

1. 작업 코드에 이름을 지정합니다.
1. 작업을 정의하는 데 사용된 언어를 선택합니다.
   * JavaScript
   * HTML
1. 작업 코드를 전체적으로 실행할지 여부를 선택합니다.
1. 선택 **[!UICONTROL 편집기 열기]**.
1. 코드를 편집한 다음 를 선택합니다 **[!UICONTROL 저장]**.

JavaScript를 언어로 선택하면 사용자 지정 코드 내에서 참조할 수 있는 `event`라는 변수를 자동으로 사용할 수 있습니다. `event` 개체에는 규칙을 트리거한 이벤트에 대한 유용한 정보가 포함됩니다. 사용 가능한 이벤트 데이터를 확인하는 가장 쉬운 방법은 사용자 지정 코드 내에서 `event` 콘솔에 기록하는 것입니다.

```javascript
console.log(event);
```

브라우저에서 규칙을 실행하고 브라우저의 콘솔에서 기록된 이벤트 개체를 검사합니다. 사용 가능한 정보를 이해하면 사용자 지정 코드 내에서 프로그래밍 의사 결정에 사용하고 `event` 개체의 일부를 서버로 보내는 등의 작업을 수행할 수 있습니다.

### 사용자 지정 코드 작업 처리

모든 Adobe Experience Platform 사용자가 사용할 수 있는 코어 확장에는 사용자가 제공한 JavaScript 또는 HTML을 실행하는 사용자 지정 코드 작업이 포함되어 있습니다. 종종 사용자가 사용자 지정 코드 작업을 사용하는 규칙을 처리하는 방식을 이해하는 것이 도움이 됩니다.

#### 페이지 상단 또는 페이지 하단 이벤트를 사용하는 규칙

사용자 지정 작업의 코드가 기본 태그 라이브러리에 포함됩니다. document.write를 사용하여 문서에 코드가 작성됩니다. 규칙에 여러 사용자 지정 코드 작업이 있는 경우 코드가 규칙에 구성된 순서대로 작성됩니다.

#### 페이지 상단 또는 페이지 하단 이외의 다른 이벤트를 사용하는 규칙

사용자 지정 작업의 코드는 서버에서 로드되고 [Postscribe](https://github.com/krux/postscribe)를 사용하여 문서에 작성됩니다. 규칙에 여러 사용자 지정 코드 작업이 있는 경우 코드가 서버에서 동시에 로드되지만, 규칙에 구성된 순서대로 작성됩니다.

페이지가 로드된 후에 document.write를 사용하면 일반적으로 문제가 있을 수 있지만, 이는 사용자 지정 코드 작업을 통해 제공된 코드에 대한 문제가 아닙니다. 코드가 실행되는 시기에 관계없이 사용자 지정 코드 작업 내에서 document.write를 사용할 수 있습니다.

#### 사용자 지정 코드 유효성 검사

태그 코드 편집기에 사용된 유효성 검사기는 개발자가 작성한 코드의 문제를 확인하도록 설계되었습니다. 축소 프로세스를 거친 코드(예: 코드 관리자에서 다운로드한 AppMeasurement.js 코드)는 유효성 검사기에 문제가 있는 것으로 플래그가 잘못 지정될 수 있으며, 일반적으로 이 오류는 무시할 수 있습니다.

#### 작업 순서 지정

속성 설정의 &quot;시퀀스에서 규칙 구성 요소 실행&quot; 옵션이 활성화되면 조치가 비동기 작업을 수행하는 동안 후속 규칙 구성 요소를 대기시킬 수 있습니다.  JavaScript 및 HTML 사용자 지정 코드에서는 다르게 작동합니다.

*JavaScript*

JavaScript 사용자 지정 코드 작업을 만들 때 작업에서 [약속](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise)을 반환할 수 있습니다. 규칙에서 다음 작업은 반환된 약속이 해결될 때만 실행됩니다. 약속이 거부되면 규칙의 다음 작업이 실행되지 않습니다.

>[!NOTE]
>
>JavaScript가 전역적으로 실행되도록 설정되지 않은 경우에만 작동합니다. 전역 범위에서 사용자 지정 코드 작업을 실행하는 경우 태그는 약속을 즉시 해결된 것으로 취급하고 처리 큐의 다음 항목으로 이동합니다.

약속을 반환하는 JavaScript 사용자 지정 코드 작업의 예:

```javascript
return new Promise(function(resolve, reject) {
  setTimeout(function() {
    if (new Date().getDay() === 5) {
      resolve();
    } else {
      reject();
    }
  }, 1000);
});
```

*HTML*

HTML 사용자 지정 코드 작업을 만들 때 사용자 지정 코드 내에서 이름이 지정된 함수 `onCustomCodeSuccess()`를 사용할 수 있습니다. 이 함수를 호출하여 사용자 지정 코드가 완료되었으며 태그가 후속 작업 실행으로 이동할 수 있음을 나타낼 수 있습니다. 반면 사용자 지정 코드가 실패할 경우 `onCustomCodeFailure()`를 호출할 수 있습니다. 그러면 태그에 해당 규칙의 후속 작업을 실행하지 않도록 알립니다.

새 콜백을 사용하는 HTML 사용자 지정 코드 작업의 예:

```html
<script>
setTimeout(function() {
  if (new Date().getDay() === 5) {
    onCustomCodeSuccess();
  } else {
    onCustomCodeFailure();
  }
}, 1000);
</script>
```

### 직접 호출 트리거 {#direct-call-action}

이 작업은 특정 규칙을 사용하는 모든 규칙을 트리거합니다 [직접 호출 이벤트](#direct-call-event). 작업을 구성할 때 트리거할 직접 호출 이벤트에 대한 식별자 문자열을 제공해야 합니다. 원할 경우, 를 통해 직접 호출 이벤트에 데이터를 전달할 수도 있습니다 `detail` 키-값 쌍의 사용자 지정 세트를 포함할 수 있는 객체입니다.

![데이터 수집 UI에서 직접 호출 트리거 작업의 스크린샷](../../../images/extensions/core/direct-call-action.png)

작업은 로 직접 매핑됩니다 [`track` 메서드](../../../ui/client-side/satellite-object.md?lang=en#track) 에서 `satellite` 클라이언트측 코드로 액세스할 수 있는 객체입니다.

## 코어 확장 데이터 요소 유형

데이터 요소 유형은 확장에 의해 결정됩니다. 만들 수 있는 유형에는 제한이 없습니다.

다음 섹션에서는 코어 확장에서 사용할 수 있는 데이터 요소 유형에 대해 설명합니다. 확장마다 다른 유형의 데이터 요소를 사용합니다.

### 쿠키

사용 가능한 모든 도메인 쿠키는 쿠키 이름 필드에서 참조할 수 있습니다.

#### 예:

`cookieName`

### 상수

작업 또는 조건에서 참조할 수 있는 모든 상수 문자열 값입니다.

#### 예:

`string`

### 사용자 지정 코드

>[!NOTE]
>
>이제 ES6+ JavaScript가 사용자 지정 코드에서 지원됩니다. 일부 이전 브라우저는 ES6+를 지원하지 않습니다. ES6+ 함수를 사용하는 것이 미치는 영향을 이해하려면 지원되어야 하는 모든 웹 브라우저에 대해 테스트하십시오.

사용자 지정 JavaScript는 편집기 열기를 선택하고 코드를 편집기 창에 삽입하여 UI에 입력할 수 있습니다.

데이터 요소 값으로 어떤 값을 사용해야 하는지 알 수 있도록 편집기 창에 문장이 반환되어야 합니다. return 문이 포함되지 않았거나 `null` 또는 `undefined` 값이 반환되면 데이터 요소의 기본값이 데이터 요소 값으로 사용됩니다.

**예:**

```javascript
var pageType = $('div.page-wrapper').attr('class').split('')[1];
if (window.location.pathname == '/') {
  return 'homepage';
} else {
  return pageType;
}
```

사용자 지정 코드 데이터 요소가 규칙 실행의 일부로 검색되는 경우 사용자 지정 코드 내에서 참조할 수 있는 `event`라는 변수를 자동으로 사용할 수 있습니다. `event` 개체에는 규칙을 트리거한 이벤트에 대한 유용한 정보가 포함됩니다. 사용 가능한 이벤트 데이터를 확인하는 가장 쉬운 방법은 사용자 지정 코드 내에서 `event` 콘솔에 기록하는 것입니다.

```javascript
console.log(event);
return true;
```

브라우저에서 규칙을 실행하고 브라우저의 콘솔에서 기록된 이벤트 개체를 검사합니다. 데이터 요소를 사용할 수 있는 여러 규칙에 따라 사용 가능한 정보를 이해하면 사용자 지정 코드 내에서 프로그래밍 의사 결정에 사용하거나 `event` 개체 일부를 데이터 요소의 값으로 반환할 수 있습니다.

### DOM 속성

div 또는 H1 태그와 같이, 모든 요소 값은 검색할 수 있습니다.

#### 예:

CSS 선택기 체인:

`id#dc logo img`

다음 값이 있어야 합니다.

`src`

### JavaScript 변수에서 해당 문자 집합을 지정해야 합니다

모든 사용 가능한 JavaScript 개체나 변수는 경로 필드를 사용하여 참조할 수 있습니다.

태그 데이터 요소를 사용하여 마크업 JavaScript 변수 또는 개체 속성을 캡처할 수 있습니다. 그런 다음 태그 데이터 요소를 참조하여 확장 또는 사용자 지정 규칙 내에서 이러한 값을 사용할 수 있습니다. 데이터 소스가 변경되면 소스에 대한 참조만 업데이트해야 합니다.

아래 예에서는 마크업에 `Page_Name`.

```markup
<script>
  //data layer
  var Page_Name = "Homepage"
</script>
```

데이터 요소를 만들 때 해당 변수에 경로를 제공하면 됩니다.

데이터 계층의 일부로 데이터 수집기 개체를 사용하는 경우 경로에 점 표기법을 사용하여 처럼 데이터 요소에 캡처할 개체 및 속성을 참조합니다 `_myData.pageName`, 또는 `digitalData.pageName`등

#### 예:

`window.document.title`

### 로컬 저장소

Local Storage Item Name 필드에 로컬 저장소 항목의 이름을 입력합니다.

로컬 저장소는 브라우저에 페이지 간 정보를 저장하는 방법을 제공합니다([https://www.w3schools.com/html/html5_webstorage.asp](https://www.w3schools.com/html/html5_webstorage.asp)). 로컬 저장소는 쿠키와 거의 비슷하지만 훨씬 더 크고 유연합니다.

제공된 필드를 사용하여 `lastProductViewed.`처럼 로컬 저장소 항목에 대해 만든 값을 지정합니다.

### 병합된 개체

각각 개체를 제공할 여러 데이터 요소를 선택합니다. 이러한 개체가 깊이(재귀) 병합되어 새 개체를 생성합니다. 원본 개체는 수정되지 않습니다. 여러 소스 객체의 동일한 위치에 속성이 있으면 후자 객체의 값이 사용됩니다. 소스 속성 값이 `undefined`이전 소스 개체의 값을 재정의하지 않습니다. 여러 소스 객체의 동일한 위치에 배열이 있는 경우 배열이 연결됩니다.

예를 들어, 다음 개체를 제공하는 데이터 요소를 선택한다고 가정합니다.

```
{
  "sport": {
    "name": "tennis"
  },
  "dessert": "ice cream",
  "fruits": [
    "apple",
    "banana"
  ]
}
```

다음 개체를 제공하는 다른 데이터 요소도 선택한다고 가정합니다.

```
{
  "sport": {
    "name": "volleyball"
  },
  "dessert": undefined,
  "pet": "dog",
  "instrument": undefined,
  "fruits": [
    "cherry",
    "duku"
  ]
}
```

병합된 개체 데이터 요소의 결과는 다음 개체가 됩니다.

```
{
  "sport": {
    "name": "volleyball"
  },
  "dessert": "ice cream",
  "pet": "dog",
  "instrument": undefined,
  "fruits": [
    "apple",
    "banana",
    "cherry",
    "duku"
  ]
}
```

### 페이지 정보

이러한 데이터 포인트를 사용하여 규칙 논리에 사용할 페이지 정보를 캡처하거나 정보를 Analytics 또는 외부 추적 시스템으로 전송합니다.

다음 페이지 속성 중 하나를 선택하여 데이터 요소에 사용할 수 있습니다.

* URL
* 호스트 이름
* 경로 이름
* 프로토콜
* 레퍼러
* Title

### 쿼리 문자열 매개 변수

URL Parameter 필드에 단일 URL 매개 변수를 지정합니다.

이름 섹션만 필요하며 &quot;?&quot;와 같은 특별한 지정자만 필요합니다. 또는 &quot;=&quot;는 생략해야 합니다.

#### 예:

`contentType`

### 난수

이 데이터 요소를 사용하여 난수를 생성합니다. 종종 히트 ID와 같이 데이터를 샘플링하거나 ID를 만드는 데 사용됩니다. 난수를 사용하여 중요한 데이터를 난독 또는 솔트 처리할 수도 있습니다. 예를 들면 다음과 같습니다.

* 히트 ID 생성
* 사용자 토큰이나 타임스탬프에 번호를 연결하여 고유성 확인
* PII 데이터에 단방향 해시 수행
* 사이트에 설문 조사 요청을 표시할 시기를 임의로 결정

난수에 대한 최소값 및 최대값을 지정합니다.

**기본값:**

최소값: 0

최대값: 1000000000

### 세션 저장소

Session Storage Item Name 필드에 세션 저장소 항목의 이름을 입력합니다.

세션 저장소는 세션이 종료된 후 데이터를 삭제하는 것을 제외하고, 로컬 저장소와 비슷하지만 로컬 저장소나 쿠키가 데이터를 유지할 수 있습니다.

### 방문자 행동

페이지 정보와 유사한 이 데이터 요소는 일반적인 행동 유형을 사용하여 규칙 및 기타 Platform 솔루션 내의 논리를 보강합니다.

다음 방문자 행동 속성 중 하나를 선택합니다.

* 랜딩 페이지
* 트래픽 소스
* 사이트의 시간(분)
* 세션 수
* 세션 페이지 보기 횟수
* 라이프타임 페이지 보기 횟수
* 새 방문자

일반적인 사용 사례는 다음과 같습니다.

* 방문자가 5분 동안 사이트에 접속해 있으면 설문 조사 표시
* 방문을 위한 랜딩 페이지인 경우 Analytics 지표 채우기
* 세션 수의 X 숫자 이후의 방문자에게 새 오퍼 표시
* 처음 방문자인 경우 뉴스레터 등록 표시

### 조건부 값

의 래퍼 [값 비교](#value-comparison-value-comparison) 조건. 비교 결과를 기반으로 에서는 양식에서 사용할 수 있는 두 값 중 하나를 반환합니다. &quot;If.. 그럼.. 그렇지 않으면...&quot; 추가 규칙이 필요하지 않은 시나리오.

### 런타임 환경

다음 변수 중 하나를 선택할 수 있습니다.

* 환경 단계 - 반환 `_satellite.environment.stage` 개발/스테이징/프로덕션 환경을 구분하기 위한 것입니다.
* 라이브러리 빌드 날짜 - 반환 `turbine.buildInfo.buildDate` 에는 다음과 같은 값이 포함됩니다 `_satellite.buildInfo.buildDate`.
* 속성 이름 - 반환 `_satellite.property.name` 를 사용하여 Launch 속성의 이름을 가져옵니다.
* 속성 ID - 반환 `_satellite.property.id` launch 속성의 ID를 가져오려면
* 규칙 이름 - 반환 `event.$rule.name` 는 실행된 규칙의 이름을 포함합니다.
* 규칙 ID - 반환 `event.$rule.id` 가 실행되는 규칙의 ID를 포함합니다.
* 이벤트 유형 - 반환 `event.$type` 규칙을 트리거한 이벤트 유형을 포함합니다.
* 이벤트 세부 사항 페이로드 - 반환 `event.detail` 사용자 지정 이벤트 또는 직접 호출 규칙의 페이로드를 포함합니다.
* 직접 호출 식별자 - 반환 `event.identifier` 직접 호출 규칙의 식별자를 포함합니다.

### 장치 속성

다음 방문자 장치 속성 중 하나를 반환합니다.

* 브라우저 창 크기
* 화면 크기

### JavaScript 도구

일반적인 JavaScript 작업의 래퍼입니다. 데이터 요소를 입력으로 수신합니다. 다음 데이터 요소 값 변형 중 하나의 결과를 반환합니다.

* 기본 문자열 조작(replace, substring, regex match, first 및 last index, split, slice)
* 기본 배열 작업(슬라이스, 조인, 팝업, 이동)
* 기본 범용 작업(슬라이스, 길이)